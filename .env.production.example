# Production example env (DO NOT commit real secrets)

# Required if using docker-compose.prod.images.yml (GHCR image names)
# NOTE: Must be lowercase (GHCR rejects uppercase in image names).
GITHUB_REPOSITORY=owner/repo

# PostgreSQL (container) credentials
POSTGRES_DB=yasargold
POSTGRES_USER=yasargold
POSTGRES_PASSWORD=change_me

# SQLAlchemy connection string used by backend
# If you use external managed Postgres, set host/port accordingly.
DATABASE_URL=postgresql://yasargold:change_me@db:5432/yasargold
 
# JWT secret MUST be set in production
# Example placeholder — DO NOT COMMIT real secrets. Set a strong secret in your
# deployment environment (container env, secrets manager, or CI/CD variables).
JWT_SECRET_KEY=replace_with_strong_secret

# Flask secret key (keep separate from JWT secret)
FLASK_SECRET_KEY=replace_with_strong_secret

# App env (used for production safety locks)
YASAR_ENV=production

# CORS (usually not needed if nginx serves /api on the same origin).
# If you need the API to be called directly from a browser on a different origin:
# CORS_ORIGINS=http://example.com,https://example.com
# ENABLE_ROUTE_LISTING=1

# In-app backup/restore (server-side)
# Where the backend stores pre-restore snapshots and restore audit logs.
BACKUP_DIR=/data/backups

# Production safety guard: keep false normally; enable only when you intend to restore.
ALLOW_DANGEROUS_RESETS=false

# Optional: Google Drive backups via Service Account (server-side, no browser OAuth)
# Useful for IP-only deployments where browser OAuth is not practical.
# See PRODUCTION_DEPLOYMENT_GUIDE.md for setup instructions.
# GOOGLE_DRIVE_BACKUP_FOLDER_ID=your_drive_folder_id_here
# GOOGLE_DRIVE_SERVICE_ACCOUNT_FILE=/run/secrets/google_drive_sa.json

# Optional (Google Workspace):
# - If your backup folder is in a Shared Drive, set the Shared Drive id.
# GOOGLE_DRIVE_SHARED_DRIVE_ID=your_shared_drive_id_here
# - If using Domain-wide Delegation, set a user to impersonate (uses that user's quota).
# GOOGLE_DRIVE_IMPERSONATE_USER=user@yourdomain.com

# Optional: Google Drive OAuth Web Client ID (client-side backups in Flutter web)
# Only needed if you use the in-app browser OAuth flow (requires HTTPS/domain).
# GOOGLE_WEB_CLIENT_ID=your_web_client_id.apps.googleusercontent.com

# Development-only (optional): bypass auth when Authorization header is missing.
# BYPASS_AUTH_FOR_DEVELOPMENT=1

# Notes:
# - The project includes initialization scripts that may create a default admin
#   user for first-run convenience. Examples:
#     - `backend/init_permissions.py` creates an `admin` user with password
#       `admin123` (change immediately if used).
#     - `backend/reset_admin_user.py` can reset/deactivate users; it defaults
#       to username `admin` and password `admin` when run without args.
# - Replace `POSTGRES_PASSWORD`, `DATABASE_URL`, `JWT_SECRET_KEY`, and `FLASK_SECRET_KEY` with
#   secure values before deploying to production. Do NOT store real secrets
#   in this example file — keep them in your environment or secret store.

