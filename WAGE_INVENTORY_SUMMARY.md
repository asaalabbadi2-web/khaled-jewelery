# โ ูุธุงู ูุฎุฒูู ุฃุฌูุฑ ุงููุตูุนูุฉ - ููุฎุต ุงูุชูููุฐ

## ๐ ูุง ุชู ุฅูุฌุงุฒู

### 1๏ธโฃ ุฅุถุงูุฉ ุญุณุงุจ ุฌุฏูุฏ: 1340 - ูุฎุฒูู ุฃุฌูุฑ ุงููุตูุนูุฉ
```sql
โ ุงูุญุณุงุจ ูููุดุฃ ูุฌุงูุฒ
   - ุงูุฑูู: 1340
   - ุงูุงุณู: ูุฎุฒูู ุฃุฌูุฑ ุงููุตูุนูุฉ
   - ุงูููุน: ุฃุตู (Asset)
   - ุงูุญุงูุฉ: ูุดุท
```

### 2๏ธโฃ ุชุญุฏูุซ ูุงุชูุฑุฉ ุงูุดุฑุงุก
```python
โ ูู routes.py (ุฎุทูุท ~3395-3415)
   - ูุตู ุงููุตูุนูุฉ ุนู ูููุฉ ุงูุฐูุจ
   - ุฅุถุงูุชูุง ูุญุณุงุจ 1340 ุจุฏูุงู ูู ุงููุฎุฒูู ุงูุนุงู
   - ุงูููุฏ: ูู ุญู/ 1340 ... ุฅูู ุญู/ ุงูููุฑุฏ
```

### 3๏ธโฃ ุชุญุฏูุซ ูุงุชูุฑุฉ ุงูุจูุน
```python
โ ูู routes.py (ุฎุทูุท ~2683-2730)
   - ุงุณุชููุงู ุงููุตูุนูุฉ ูู ุญุณุงุจ 1340
   - ุฅุถุงูุชูุง ูุชูููุฉ ุงููุจูุนุงุช
   - ุงูููุฏ: ูู ุญู/ ุชูููุฉ ุงููุจูุนุงุช ... ุฅูู ุญู/ 1340
```

### 4๏ธโฃ ุงูุชุญููู ุงููุฒูู ูููุตูุนูุฉ
```python
โ ุงููุงุนุฏุฉ ุงููุทุจูุฉ:
   ุงููุตูุนูุฉ ุงููุฒููุฉ = ุงููุตูุนูุฉ ุงูููุฏูุฉ รท ุงูุณุนุฑ ุงููุจุงุดุฑ (ุนูุงุฑ ุฑุฆูุณู)
   
   ูุซุงู:
   - ุงููุตูุนูุฉ: 500 ุฑูุงู
   - ุงูุณุนุฑ: 453.67 ุฑูุงู/ุฌุฑุงู (21 ุนูุงุฑ)
   - ุงููุชูุฌุฉ: 500 รท 453.67 = 1.102 ุฌุฑุงู
```

### 5๏ธโฃ ุชุญุฏูุซ ุงูุฎุฑูุทุฉ ุงููุญุงุณุจูุฉ
```python
โ ูู routes.py - DEFAULT_ACCOUNTS
   'manufacturing_wage_inventory': 1340
```

---

## ๐ฏ ููู ูุนูู ุงููุธุงู

### ุฏูุฑุฉ ุญูุงุฉ ุงููุตูุนูุฉ:

```
1. ุงูุดุฑุงุก ูู ุงูููุฑุฏ
   โโ> ุฅุถุงูุฉ ุงููุตูุนูุฉ ูุญุณุงุจ 1340
   
2. ุงูุจูุน ููุนููู
   โโ> ุงุณุชููุงู ุงููุตูุนูุฉ ูู 1340
   โโ> ุฅุถุงูุชูุง ูุชูููุฉ ุงููุจูุนุงุช
   
3. ุญุณุงุจ ุงูุฑุจุญ
   โโ> ุงูุฑุจุญ = ุงูุฅูุฑุงุฏ - (ุชูููุฉ ุงูุฐูุจ + ุชูููุฉ ุงููุตูุนูุฉ)
```

---

## ๐ ูุซุงู ุนููู

### ุงูุณููุงุฑูู:
```
1. ุดุฑุงุก 100 ุฌุฑุงู ุฐูุจ + 500 ุฑูุงู ูุตูุนูุฉ
2. ุจูุน 10 ุฌุฑุงู (10% ูู ุงููุฎุฒูู)
```

### ุงููููุฏ ุงููุญุงุณุจูุฉ:

#### 1. ุนูุฏ ุงูุดุฑุงุก:
```
ูู ุญู/ ูุฎุฒูู ุฐูุจ ุนูุงุฑ 21 (1310)        45,367 ุฑูุงู
ูู ุญู/ ูุฎุฒูู ุฃุฌูุฑ ุงููุตูุนูุฉ (1340)          500 ุฑูุงู
    ุฅูู ุญู/ ุงูููุฑุฏ                        45,867 ุฑูุงู
```

#### 2. ุนูุฏ ุงูุจูุน:
```
ุฃ) ุฅุซุจุงุช ุงูุฅูุฑุงุฏ:
ูู ุญู/ ุงูููุฏูุฉ                            5,000 ุฑูุงู
    ุฅูู ุญู/ ูุจูุนุงุช ุฐูุจ                     5,000 ุฑูุงู

ุจ) ุฅุซุจุงุช ุชูููุฉ ุงูุฐูุจ:
ูู ุญู/ ุชูููุฉ ุงููุจูุนุงุช                     4,536.7 ุฑูุงู
    ุฅูู ุญู/ ูุฎุฒูู ุฐูุจ 21                   4,536.7 ุฑูุงู

ุฌ) ุฅุซุจุงุช ุชูููุฉ ุงููุตูุนูุฉ:
ูู ุญู/ ุชูููุฉ ุงููุจูุนุงุช                        50 ุฑูุงู
    ุฅูู ุญู/ ูุฎุฒูู ุฃุฌูุฑ ุงููุตูุนูุฉ (1340)       50 ุฑูุงู
```

### ุงููุชูุฌุฉ ุงูููุงุฆูุฉ:
```
โ ุฑุตูุฏ ุญุณุงุจ 1340 ุจุนุฏ ุงูุจูุน: 450 ุฑูุงู (500 - 50)
โ ุชูููุฉ ุงููุจูุนุงุช ุงูุฅุฌูุงููุฉ: 4,586.7 ุฑูุงู
โ ุงูุฑุจุญ: 5,000 - 4,586.7 = 413.3 ุฑูุงู
```

---

## โ ุงูููุฒุงุช ุงููุญุงุณุจูุฉ

### 1. ุงูุฏูุฉ
- **ูุจู:** ุงููุตูุนูุฉ ุถูู ุงูุฅูุฑุงุฏ (ุบูุฑ ุฏููู)
- **ุจุนุฏ:** ุงููุตูุนูุฉ ูู ุงููุฎุฒูู โ ุงุณุชููุงู ุนูุฏ ุงูุจูุน (ุฏููู)

### 2. ุงูุชุชุจุน
```
SELECT balance_cash FROM accounts WHERE account_number = '1340';
โ ููุธูุฑ ุฑุตูุฏ ุงููุตูุนูุฉ ุงููุชุงุญ ูู ุฃู ููุช
```

### 3. ุงูุฑุจุญ ุงูุญูููู
```
ุงูุฑุจุญ = ุงูุฅูุฑุงุฏ - (ุชูููุฉ ุงูุฐูุจ + ุชูููุฉ ุงููุตูุนูุฉ)
      = 5,000 - (4,536.7 + 50)
      = 413.3 ุฑูุงู
```

---

## ๐ ุงูุถูุงูุงุช

### โ ุงูุชูุงุฒู ุงููุญุงุณุจู
```python
verify_dual_balance(journal_entry.id)
# ูุชุญูู ูู ุชูุงุฒู ุงูููุฏ ูุจู ุงูุญูุธ
```

### โ ููุน ุงูุฃุฎุทุงุก
```python
if not wage_inventory_account_id:
    return jsonify({'error': 'ุญุณุงุจ 1340 ุบูุฑ ููุฌูุฏ'}), 400
```

### โ ุงูุณุนุฑ ุงูุตุญูุญ
```python
# ุงุณุชุฎุฏุงู ุงูุณุนุฑ ุงููุจุงุดุฑ ููุนูุงุฑ ุงูุฑุฆูุณู
direct_gold_price_main = gold_price_data['price_per_gram_main_karat']
```

---

## ๐ ุงููููุงุช ุงููุนุฏูุฉ

1. **backend/routes.py**
   - ุงูุณุทูุฑ ~1730-1760: ุชุญุฏูุซ `get_account_id_for_mapping`
   - ุงูุณุทูุฑ ~2683-2730: ุชุญุฏูุซ ูุงุชูุฑุฉ ุงูุจูุน
   - ุงูุณุทูุฑ ~3395-3415: ุชุญุฏูุซ ูุงุชูุฑุฉ ุงูุดุฑุงุก

2. **backend/models.py**
   - ุฅุถุงูุฉ ุญุณุงุจ 1340 (ุนุจุฑ SQL/CLI)

3. **MANUFACTURING_WAGE_INVENTORY_SYSTEM.md**
   - ุงูุชูุซูู ุงููุงูู ูููุธุงู

---

## ๐ ุงููุจุงุฏุฆ ุงููุญุงุณุจูุฉ ุงููุทุจูุฉ

### 1. ูุจุฏุฃ ุงูููุงุจูุฉ (Matching Principle)
```
ุชูุทุงุจู ุงููุตูุนูุฉ (ุชูููุฉ) ูุน ุงูุฅูุฑุงุฏ ูู ููุณ ุงููุชุฑุฉ
```

### 2. ูุจุฏุฃ ุงูุงุณุชุญูุงู (Accrual Basis)
```
ุงููุตูุนูุฉ ุชูุณุฌู ุนูุฏ ุงูุดุฑุงุกุ ุชูุณุชููู ุนูุฏ ุงูุจูุน
```

### 3. ูุจุฏุฃ ุงูุชูููุฉ ุงูุชุงุฑูุฎูุฉ
```
ุงููุตูุนูุฉ ุจุงูุชูููุฉ ุงููุนููุฉ (ูุง ุชูุนุงุฏ ุชูููููุง)
```

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ

### ูููุทูุฑ:
1. โ ุงูููุฏ ุฌุงูุฒ ูููุทุจููู
2. โ ุงูุญุณุงุจ ููุฌูุฏ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. โณ ุงูุงุฎุชุจุงุฑ ุงูุดุงูู (ุนุจุฑ Flutter)

### ูููุญุงุณุจ:
1. ูุฑุงุฌุนุฉ ุงููููุฏ ูู ูุงุฌูุฉ ุงูููุงุชูุฑ
2. ุงูุชุญูู ูู ุฑุตูุฏ ุญุณุงุจ 1340 ุจุนุฏ ูู ุนูููุฉ
3. ููุงุฑูุฉ ุงูุฃุฑูุงู ูุน ุงูุณุฌูุงุช ุงููุฑููุฉ

---

## ๐ ุงูุฏุนู ุงูููู

### ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ:

**ุณ: ูุงุฐุง ูู ูู ููู ููุงู ุฑุตูุฏ ูุงูู ูู 1340ุ**
ุฌ: ุงููุธุงู ุณูููุดุฆ ููุฏ ุจุงูุณุงูุจ (ูููู ุฅุถุงูุฉ ุชุญุฐูุฑ ูุงุญูุงู)

**ุณ: ููู ุฃุนุฑู ุฑุตูุฏ ุงููุตูุนูุฉุ**
ุฌ: `GET /api/accounts` โ ุงุจุญุซ ุนู account_number = '1340'

**ุณ: ูู ูุคุซุฑ ุนูู ุงูููุงุชูุฑ ุงููุฏููุฉุ**
ุฌ: ูุงุ ุงูููุงุชูุฑ ุงููุฏููุฉ ุณุชุจูู ููุง ูู. ุงููุธุงู ุงูุฌุฏูุฏ ููููุงุชูุฑ ุงูุฌุฏูุฏุฉ ููุท.

---

## โจ ุงูุฎูุงุตุฉ

```
โ ุชู ุชูููุฐ ูุธุงู ูุญุงุณุจู ูุชูุงูู ูุชุชุจุน ุฃุฌูุฑ ุงููุตูุนูุฉ
โ ูุตู ุงููุตูุนูุฉ ูู ุญุณุงุจ ูุณุชูู (1340)
โ ุงุณุชููุงู ุฏููู ุนูุฏ ุงูุจูุน
โ ุชุญููู ูุฒูู ุตุญูุญ
โ ุชูุงุฒู ูุญุงุณุจู ูุถููู
```

---

**ุงูุชุงุฑูุฎ:** 15 ุฏูุณูุจุฑ 2025  
**ุงูุญุงูุฉ:** โ ููููุฐ ูุฌุงูุฒ ููุงุฎุชุจุงุฑ  
**ุงูููููุฐ:** GitHub Copilot  
**ุงููุซุงุฆู:** MANUFACTURING_WAGE_INVENTORY_SYSTEM.md
