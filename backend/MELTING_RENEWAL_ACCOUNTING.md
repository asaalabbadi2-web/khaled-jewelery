# Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠØ© Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„ØªØ¬Ø¯ÙŠØ¯ ÙˆØ§Ù„ØªÙƒØ³ÙŠØ±

## ğŸ”„ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªØ¬Ø¯ÙŠØ¯ (Renewal)

### Ø§Ù„Ù…ÙÙ‡ÙˆÙ…:
- Ø´Ø±Ø§Ø¡ Ø°Ù‡Ø¨ Ù…Ø³ØªØ¹Ù…Ù„ Ù…Ù† Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡
- ØªÙ†Ø¸ÙŠÙÙ‡ ÙˆØªØ¬Ø¯ÙŠØ¯Ù‡ ÙˆØ¥Ø¹Ø§Ø¯Ø© Ø¨ÙŠØ¹Ù‡ ÙÙŠ Ø§Ù„Ù…Ø­Ù„
- Ø§Ù„Ø°Ù‡Ø¨ Ø§Ù„Ù…Ø´ØªØ±Ù‰ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ **Ø°Ù‡Ø¨ + ÙØµÙˆØµ/Ø£Ø­Ø¬Ø§Ø±**
- Ø¹Ù†Ø¯ Ø§Ù„Ø´Ø±Ø§Ø¡: Ù†Ø®ØµÙ… ÙˆØ²Ù† Ø§Ù„ÙØµÙˆØµØŒ ÙˆÙ†Ø³Ø¬Ù„ ÙÙŠ ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„ÙƒØ³Ø± **Ø§Ù„Ø°Ù‡Ø¨ Ø§Ù„ØµØ§ÙÙŠ ÙÙ‚Ø·**

### Ø§Ù„Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ Ø¹Ù†Ø¯ Ø§Ù„ØªØ¬Ø¯ÙŠØ¯ (Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¨ÙŠØ¹):

```
Ù…Ù† Ù…Ø°ÙƒÙˆØ±ÙŠÙ†:
    Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ø°Ù‡Ø¨ (Ø­Ø³Ø¨ Ø§Ù„Ø¹ÙŠØ§Ø±)        [Ù…Ø¯ÙŠÙ† - Ø¨Ø§Ù„ÙˆØ²Ù† Ø§Ù„ÙƒØ§Ù…Ù„: Ø°Ù‡Ø¨ + ÙØµÙˆØµ]
    
Ø¥Ù„Ù‰ Ù…Ø°ÙƒÙˆØ±ÙŠÙ†:
    ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„ÙƒØ³Ø± (Ø­Ø³Ø¨ Ø§Ù„Ø¹ÙŠØ§Ø±)        [Ø¯Ø§Ø¦Ù† - Ø¨ÙˆØ²Ù† Ø§Ù„Ø°Ù‡Ø¨ ÙÙ‚Ø·]
    Ø£Ø­Ø¬Ø§Ø± ÙˆÙØµÙˆØµ Ø§Ù„ØªØ¬Ø¯ÙŠØ¯ (416)        [Ø¯Ø§Ø¦Ù† - Ø¨ÙˆØ²Ù† Ø§Ù„ÙØµÙˆØµ]
```

### Ù…Ø«Ø§Ù„ Ø¹Ù…Ù„ÙŠ:
Ø´Ø±Ø§Ø¡ Ù‚Ø·Ø¹Ø© Ù…Ø³ØªØ¹Ù…Ù„Ø©:
- Ø§Ù„ÙˆØ²Ù† Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: **10 Ø¬Ø±Ø§Ù…** (Ø¹ÙŠØ§Ø± 21)
- ÙˆØ²Ù† Ø§Ù„ÙØµÙˆØµ: **2 Ø¬Ø±Ø§Ù…**
- ÙˆØ²Ù† Ø§Ù„Ø°Ù‡Ø¨ Ø§Ù„ØµØ§ÙÙŠ: **8 Ø¬Ø±Ø§Ù…**

Ø¹Ù†Ø¯ Ø§Ù„Ø´Ø±Ø§Ø¡ ØªÙ… ØªØ³Ø¬ÙŠÙ„:
```
Ù…Ù† Ø­/ ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„ÙƒØ³Ø± Ø¹ÙŠØ§Ø± 21 (1260)     8 Ø¬Ø±Ø§Ù… (Ù…Ø¯ÙŠÙ†)
Ø¥Ù„Ù‰ Ø­/ Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ù†Ù‚Ø¯ÙŠ               XXX Ø±ÙŠØ§Ù„ (Ø¯Ø§Ø¦Ù†)
```

Ø¹Ù†Ø¯ Ø§Ù„ØªØ¬Ø¯ÙŠØ¯ ÙˆØ¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¨ÙŠØ¹:
```
Ù…Ù† Ø­/ Ù…Ø®Ø²ÙˆÙ† Ø°Ù‡Ø¨ Ø¹ÙŠØ§Ø± 21 (1220)       10 Ø¬Ø±Ø§Ù… (Ù…Ø¯ÙŠÙ†) - Ø§Ù„ÙˆØ²Ù† Ø§Ù„ÙƒØ§Ù…Ù„
Ø¥Ù„Ù‰ Ù…Ø°ÙƒÙˆØ±ÙŠÙ†:
    Ø­/ ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„ÙƒØ³Ø± Ø¹ÙŠØ§Ø± 21 (1260)    8 Ø¬Ø±Ø§Ù… (Ø¯Ø§Ø¦Ù†) - Ø§Ù„Ø°Ù‡Ø¨ ÙÙ‚Ø·
    Ø­/ Ø£Ø­Ø¬Ø§Ø± ÙˆÙØµÙˆØµ Ø§Ù„ØªØ¬Ø¯ÙŠØ¯ (416)      2 Ø¬Ø±Ø§Ù… (Ø¯Ø§Ø¦Ù†) - Ø§Ù„ÙØµÙˆØµ
```

---

## ğŸ”¨ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªÙƒØ³ÙŠØ± (Melting)

### Ø§Ù„Ù…ÙÙ‡ÙˆÙ…:
- ØªÙƒØ³ÙŠØ± Ù‚Ø·Ø¹ Ø±Ø§ÙƒØ¯Ø© Ù…Ù† Ø§Ù„Ù…Ø®Ø²ÙˆÙ†
- ÙØµÙ„ Ø§Ù„Ø°Ù‡Ø¨ Ø¹Ù† Ø§Ù„ÙØµÙˆØµ/Ø§Ù„Ø£Ø­Ø¬Ø§Ø±
- ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„ÙƒØ³Ø± Ù„Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØµÙ†ÙŠØ¹

### Ø§Ù„Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ:

```
Ù…Ù† Ù…Ø°ÙƒÙˆØ±ÙŠÙ†:
    ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„ÙƒØ³Ø± (Ø­Ø³Ø¨ Ø§Ù„Ø¹ÙŠØ§Ø±)        [Ù…Ø¯ÙŠÙ† - Ø¨ÙˆØ²Ù† Ø§Ù„Ø°Ù‡Ø¨ ÙÙ‚Ø·]
    Ø£Ø­Ø¬Ø§Ø± ÙˆÙØµÙˆØµ Ø§Ù„ØªÙƒØ³ÙŠØ± (531)        [Ù…Ø¯ÙŠÙ† - Ø¨ÙˆØ²Ù† Ø§Ù„ÙØµÙˆØµ]
    
Ø¥Ù„Ù‰ Ø­/ Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ø°Ù‡Ø¨                  [Ø¯Ø§Ø¦Ù† - Ø¨Ø§Ù„ÙˆØ²Ù† Ø§Ù„ÙƒØ§Ù…Ù„]
```

### Ù…Ø«Ø§Ù„ Ø¹Ù…Ù„ÙŠ:
ØªÙƒØ³ÙŠØ± Ù‚Ø·Ø¹Ø© Ø±Ø§ÙƒØ¯Ø© Ù…Ù† Ø§Ù„Ù…Ø®Ø²ÙˆÙ†:
- Ø§Ù„ÙˆØ²Ù† Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: **15 Ø¬Ø±Ø§Ù…** (Ø¹ÙŠØ§Ø± 18)
- ÙˆØ²Ù† Ø§Ù„ÙØµÙˆØµ: **3 Ø¬Ø±Ø§Ù…**
- ÙˆØ²Ù† Ø§Ù„Ø°Ù‡Ø¨ Ø§Ù„ØµØ§ÙÙŠ: **12 Ø¬Ø±Ø§Ù…**

Ø§Ù„Ù‚ÙŠØ¯:
```
Ù…Ù† Ù…Ø°ÙƒÙˆØ±ÙŠÙ†:
    Ø­/ ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„ÙƒØ³Ø± Ø¹ÙŠØ§Ø± 18 (1240)    12 Ø¬Ø±Ø§Ù… (Ù…Ø¯ÙŠÙ†)
    Ø­/ Ø£Ø­Ø¬Ø§Ø± ÙˆÙØµÙˆØµ Ø§Ù„ØªÙƒØ³ÙŠØ± (531)      3 Ø¬Ø±Ø§Ù… (Ù…Ø¯ÙŠÙ†)
    
Ø¥Ù„Ù‰ Ø­/ Ù…Ø®Ø²ÙˆÙ† Ø°Ù‡Ø¨ Ø¹ÙŠØ§Ø± 18 (1230)     15 Ø¬Ø±Ø§Ù… (Ø¯Ø§Ø¦Ù†)
```

---

## ğŸ“Š Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©

### 1. Ø­Ø³Ø§Ø¨ Ø£Ø­Ø¬Ø§Ø± ÙˆÙØµÙˆØµ Ø§Ù„ØªØ¬Ø¯ÙŠØ¯ (416)
- **Ø±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨:** 416
- **Ø§Ù„Ù†ÙˆØ¹:** Revenue (Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø£Ø®Ø±Ù‰)
- **Ù†ÙˆØ¹ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©:** gold (ÙˆØ²Ù†ÙŠ)
- **tracks_weight:** True
- **Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:** ØªØ³Ø¬ÙŠÙ„ ÙˆØ²Ù† Ø§Ù„ÙØµÙˆØµ Ø¹Ù†Ø¯ Ø§Ù„ØªØ¬Ø¯ÙŠØ¯ (Ø¯Ø§Ø¦Ù†)

### 2. Ø­Ø³Ø§Ø¨ Ø£Ø­Ø¬Ø§Ø± ÙˆÙØµÙˆØµ Ø§Ù„ØªÙƒØ³ÙŠØ± (531)
- **Ø±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨:** 531
- **Ø§Ù„Ù†ÙˆØ¹:** Expense (Ù…ØµØ±ÙˆÙØ§Øª)
- **Ù†ÙˆØ¹ Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø©:** gold (ÙˆØ²Ù†ÙŠ)
- **tracks_weight:** True
- **Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:** ØªØ³Ø¬ÙŠÙ„ ÙˆØ²Ù† Ø§Ù„ÙØµÙˆØµ Ø¹Ù†Ø¯ Ø§Ù„ØªÙƒØ³ÙŠØ± (Ù…Ø¯ÙŠÙ†)

### 3. Ø­Ø³Ø§Ø¨Ø§Øª ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„ÙƒØ³Ø±
- **1240:** Ù…Ø®Ø²ÙˆÙ† ÙƒØ³Ø± Ø¹ÙŠØ§Ø± 24
- **1250:** Ù…Ø®Ø²ÙˆÙ† ÙƒØ³Ø± Ø¹ÙŠØ§Ø± 22
- **1260:** Ù…Ø®Ø²ÙˆÙ† ÙƒØ³Ø± Ø¹ÙŠØ§Ø± 21

### 4. Ø­Ø³Ø§Ø¨Ø§Øª Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ø°Ù‡Ø¨
- **1200:** Ù…Ø®Ø²ÙˆÙ† Ø°Ù‡Ø¨ Ø¹ÙŠØ§Ø± 24
- **1210:** Ù…Ø®Ø²ÙˆÙ† Ø°Ù‡Ø¨ Ø¹ÙŠØ§Ø± 22
- **1220:** Ù…Ø®Ø²ÙˆÙ† Ø°Ù‡Ø¨ Ø¹ÙŠØ§Ø± 21
- **1230:** Ù…Ø®Ø²ÙˆÙ† Ø°Ù‡Ø¨ Ø¹ÙŠØ§Ø± 18

---

## ğŸ¯ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù‡Ø§Ù…Ø©

1. **Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª ÙˆØ²Ù†ÙŠØ©:** ÙƒÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ø°ÙƒÙˆØ±Ø© ØªØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„ÙˆØ²Ù† Ø¨Ø§Ù„Ø¬Ø±Ø§Ù…
2. **Ø­Ø³Ø§Ø¨ Ø§Ù„ÙØµÙˆØµ Ù„Ù„ØªØ¬Ø¯ÙŠØ¯ Ø¥ÙŠØ±Ø§Ø¯ÙŠ:** Ù„Ø£Ù†Ù‡ ÙŠÙØ¶Ø§Ù Ù„Ù„Ù…Ø®Ø²ÙˆÙ† Ø¹Ù†Ø¯ Ø§Ù„ØªØ¬Ø¯ÙŠØ¯
3. **Ø­Ø³Ø§Ø¨ Ø§Ù„ÙØµÙˆØµ Ù„Ù„ØªÙƒØ³ÙŠØ± Ù…ØµØ±ÙˆÙÙŠ:** Ù„Ø£Ù†Ù‡ ÙŠÙØ®ØµÙ… Ù…Ù† Ø§Ù„Ù…Ø®Ø²ÙˆÙ† Ø¹Ù†Ø¯ Ø§Ù„ØªÙƒØ³ÙŠØ±
4. **ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„ÙƒØ³Ø± ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø°Ù‡Ø¨ Ø§Ù„ØµØ§ÙÙŠ ÙÙ‚Ø·:** Ø¨Ø¯ÙˆÙ† ÙØµÙˆØµ
5. **Ø§Ù„Ù…Ø®Ø²ÙˆÙ† ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø§Ù„ÙˆØ²Ù† Ø§Ù„ÙƒØ§Ù…Ù„:** Ø°Ù‡Ø¨ + ÙØµÙˆØµ

---

## ğŸ”§ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙÙŠ Ø§Ù„ÙƒÙˆØ¯

Ø¹Ù†Ø¯ Ø¥Ù†Ø´Ø§Ø¡ Ù‚ÙŠØ¯ Ø§Ù„ØªØ¬Ø¯ÙŠØ¯ ÙÙŠ `melting_renewal_screen.dart`:

```dart
// Ø­Ø³Ø§Ø¨ Ø§Ù„Ø£ÙˆØ²Ø§Ù†
final totalWeight = renewalItems.fold(0.0, (sum, item) => sum + item.weight);
final gemsWeight = renewalItems.fold(0.0, (sum, item) => sum + (item.gemsWeight ?? 0));
final goldWeight = totalWeight - gemsWeight;

// Ø§Ù„Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ
JournalEntry(
  lines: [
    // Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ø°Ù‡Ø¨ (Ù…Ø¯ÙŠÙ†) - Ø§Ù„ÙˆØ²Ù† Ø§Ù„ÙƒØ§Ù…Ù„
    JournalEntryLine(
      account_id: getInventoryAccountId(karat),
      weight: totalWeight,
      debit: totalWeight,
      karat: karat,
    ),
    // ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„ÙƒØ³Ø± (Ø¯Ø§Ø¦Ù†) - Ø§Ù„Ø°Ù‡Ø¨ ÙÙ‚Ø·
    JournalEntryLine(
      account_id: getScrapBoxAccountId(karat),
      weight: goldWeight,
      credit: goldWeight,
      karat: karat,
    ),
    // Ø£Ø­Ø¬Ø§Ø± ÙˆÙØµÙˆØµ Ø§Ù„ØªØ¬Ø¯ÙŠØ¯ (Ø¯Ø§Ø¦Ù†) - Ø§Ù„ÙØµÙˆØµ
    JournalEntryLine(
      account_id: 113, // Ø­Ø³Ø§Ø¨ 416
      weight: gemsWeight,
      credit: gemsWeight,
      karat: karat,
    ),
  ],
)
```
