# ๐ ุฏููู APIs ุฏูุชุฑ ุงูุฃุณุชุงุฐ ุงููุทูุฑ

## ูุธุฑุฉ ุนุงูุฉ
ุชู ุชุทููุฑ ุฏูุชุฑ ุงูุฃุณุชุงุฐ ููุฏุนู ุงููุธุงู ุงููุญุงุณุจู ุงููุฒุฏูุฌ (ููุฏ + ุฐูุจ ุจุงูุฃุนูุฑุฉ) ูุน ููุฒุงุช ูุชูุฏูุฉ.

---

## 1. ุฏูุชุฑ ุงูุฃุณุชุงุฐ ุงูุนุงู (General Ledger)

### Endpoint
```
GET /api/general_ledger_all
```

### ุงููุนุงููุงุช (Query Parameters)

| ุงููุนุงูู | ุงูููุน | ุงูุงูุชุฑุงุถู | ุงููุตู |
|---------|------|----------|-------|
| `account_id` | int | - | ุชุตููุฉ ุญุณุจ ุฑูู ุงูุญุณุงุจ |
| `start_date` | string | - | ุชุงุฑูุฎ ุงูุจุฏุงูุฉ (YYYY-MM-DD) |
| `end_date` | string | - | ุชุงุฑูุฎ ุงูููุงูุฉ (YYYY-MM-DD) |
| `show_balances` | boolean | true | ุนุฑุถ ุงูุฃุฑุตุฏุฉ ุงูุชุฑุงูููุฉ |
| `karat_detail` | boolean | false | ุนุฑุถ ุชูุงุตูู ุงูุฃุนูุฑุฉ (18k, 21k, 22k, 24k) |

### ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู

#### 1. ุฌูุจ ุฌููุน ุงูุญุฑูุงุช ูุน ุงูุฃุฑุตุฏุฉ
```bash
GET /api/general_ledger_all?show_balances=true
```

#### 2. ุชุตููุฉ ุญุณุจ ุญุณุงุจ ูุนูู
```bash
GET /api/general_ledger_all?account_id=23&karat_detail=true
```

#### 3. ุชุตููุฉ ุญุณุจ ูุชุฑุฉ ุฒูููุฉ
```bash
GET /api/general_ledger_all?start_date=2025-10-01&end_date=2025-10-31
```

#### 4. ุญุฑูุงุช ุญุณุงุจ ูุญุฏุฏ ูู ูุชุฑุฉ ูุนููุฉ ูุน ุชูุงุตูู ุงูุฃุนูุฑุฉ
```bash
GET /api/general_ledger_all?account_id=40&start_date=2025-10-15&karat_detail=true&show_balances=true
```

### ูุซุงู ุนูู ุงูุงุณุชุฌุงุจุฉ

```json
{
  "entries": [
    {
      "id": 154,
      "journal_entry_id": 36,
      "date": "2025-10-16T01:24:11.648000",
      "type": "Journal Entry",
      "description": "ูุงุชูุฑุฉ ุจูุน ุฑูู #31",
      "account_id": 40,
      "account_name": "ุถุฑูุจุฉ ุงููููุฉ ุงููุถุงูุฉ - ุฏุงุฆูุฉ",
      "account_number": "221",
      "cash_debit": 0.0,
      "cash_credit": 600.0,
      "gold_debit": 0.0,
      "gold_credit": 0.0,
      "karat_details": {
        "18k": {"debit": 0.0, "credit": 0.0},
        "21k": {"debit": 0.0, "credit": 0.0},
        "22k": {"debit": 0.0, "credit": 0.0},
        "24k": {"debit": 0.0, "credit": 0.0}
      },
      "running_balance": {
        "cash": -730.43,
        "gold_normalized": 0.0,
        "by_karat": {
          "18k": 0.0,
          "21k": 0.0,
          "22k": 0.0,
          "24k": 0.0
        }
      }
    }
  ],
  "summary": {
    "total_entries": 2,
    "final_balance": {
      "cash": -880.43,
      "gold_normalized": 0.0,
      "by_karat": {
        "18k": 0.0,
        "21k": 0.0,
        "22k": 0.0,
        "24k": 0.0
      }
    }
  },
  "filters": {
    "account_id": 40,
    "start_date": "2025-10-15",
    "end_date": null,
    "show_balances": true,
    "karat_detail": true
  }
}
```

---

## 2. ุฏูุชุฑ ุงูุฃุณุชุงุฐ ูุญุณุงุจ ูุญุฏุฏ (Account Ledger)

### Endpoint
```
GET /api/account_ledger/<account_id>
```

### ุงููุนุงููุงุช (Path Parameters)

| ุงููุนุงูู | ุงูููุน | ูุทููุจ | ุงููุตู |
|---------|------|------|-------|
| `account_id` | int | โ | ุฑูู ุงูุญุณุงุจ |

### ุงููุนุงููุงุช (Query Parameters)

| ุงููุนุงูู | ุงูููุน | ุงูุงูุชุฑุงุถู | ุงููุตู |
|---------|------|----------|-------|
| `start_date` | string | - | ุชุงุฑูุฎ ุงูุจุฏุงูุฉ (YYYY-MM-DD) |
| `end_date` | string | - | ุชุงุฑูุฎ ุงูููุงูุฉ (YYYY-MM-DD) |
| `karat_detail` | boolean | true | ุนุฑุถ ุชูุงุตูู ุงูุฃุนูุฑุฉ |

### ุงููุฒุงูุง ุงูุฎุงุตุฉ
- โ **ุฑุตูุฏ ุงูุชุชุงุญู**: ูุญุณุจ ุงูุฑุตูุฏ ูุจู ุชุงุฑูุฎ ุงูุจุฏุงูุฉ ุชููุงุฆูุงู
- โ **ุฑุตูุฏ ุฎุชุงูู**: ูุนุฑุถ ุงูุฑุตูุฏ ูู ููุงูุฉ ุงููุชุฑุฉ
- โ **ุฃุฑุตุฏุฉ ุชุฑุงูููุฉ**: ููู ุญุฑูุฉ ุฑุตูุฏ ุชุฑุงููู ูุญุฏูุซ
- โ **ุชูุงุตูู ุงูุฃุนูุฑุฉ**: ุนุฑุถ ุงูุญุฑูุงุช ูุงูุฃุฑุตุฏุฉ ููู ุนูุงุฑ

### ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู

#### 1. ุฏูุชุฑ ุฃุณุชุงุฐ ุญุณุงุจ ุงูุถุฑูุจุฉ
```bash
GET /api/account_ledger/40
```

#### 2. ุฏูุชุฑ ุฃุณุชุงุฐ ุงููุฎุฒูู ูุน ุชูุงุตูู ุงูุฃุนูุฑุฉ
```bash
GET /api/account_ledger/23?karat_detail=true
```

#### 3. ุฏูุชุฑ ุฃุณุชุงุฐ ุญุณุงุจ ูู ูุชุฑุฉ ูุญุฏุฏุฉ
```bash
GET /api/account_ledger/23?start_date=2025-10-01&end_date=2025-10-31
```

### ูุซุงู ุนูู ุงูุงุณุชุฌุงุจุฉ

```json
{
  "account": {
    "id": 40,
    "name": "ุถุฑูุจุฉ ุงููููุฉ ุงููุถุงูุฉ - ุฏุงุฆูุฉ",
    "number": "221",
    "type": null
  },
  "opening_balance": {
    "cash": -130.43,
    "gold_normalized": 0.0,
    "by_karat": {
      "18k": 0.0,
      "21k": 0.0,
      "22k": 0.0,
      "24k": 0.0
    }
  },
  "closing_balance": {
    "cash": -880.43,
    "gold_normalized": 0.0,
    "by_karat": {
      "18k": 0.0,
      "21k": 0.0,
      "22k": 0.0,
      "24k": 0.0
    }
  },
  "entries": [
    {
      "id": 154,
      "journal_entry_id": 36,
      "date": "2025-10-16T01:24:11.648000",
      "description": "ูุงุชูุฑุฉ ุจูุน ุฑูู #31",
      "cash_debit": 0.0,
      "cash_credit": 600.0,
      "gold_debit": 0.0,
      "gold_credit": 0.0,
      "running_balance": {
        "cash": -730.43,
        "gold_normalized": 0.0,
        "by_karat": {
          "18k": 0.0,
          "21k": 0.0,
          "22k": 0.0,
          "24k": 0.0
        }
      },
      "karat_details": {
        "18k": {"debit": 0.0, "credit": 0.0},
        "21k": {"debit": 0.0, "credit": 0.0},
        "22k": {"debit": 0.0, "credit": 0.0},
        "24k": {"debit": 0.0, "credit": 0.0}
      }
    }
  ],
  "total_entries": 2,
  "filters": {
    "start_date": "2025-10-15",
    "end_date": null,
    "karat_detail": true
  }
}
```

---

## ๐ฏ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู ุงูุดุงุฆุนุฉ

### 1. ูุฑุงุฌุนุฉ ุญุณุงุจ ุงูุนููู
```bash
# ุงูุชุฑุถ ุฃู ุญุณุงุจ ุงูุนููู ุฑูู 15
GET /api/account_ledger/15?start_date=2025-01-01
```

### 2. ูุฑุงุฌุนุฉ ุญุฑูุฉ ุงููุฎุฒูู
```bash
# ุงููุฎุฒูู ุนูุงุฑ 21 - ุญุณุงุจ 22
GET /api/account_ledger/22?karat_detail=true
```

### 3. ุชูุฑูุฑ ุงูุถุฑูุจุฉ ููุดูุฑ ุงูุญุงูู
```bash
GET /api/account_ledger/40?start_date=2025-10-01&end_date=2025-10-31
```

### 4. ูุฑุงุฌุนุฉ ุญุฑูุฉ ุงูุตูุฏูู ุงูููููุฉ
```bash
# ุงูุชุฑุถ ุฃู ุญุณุงุจ ุงูุตูุฏูู ุฑูู 6
GET /api/account_ledger/6?start_date=2025-10-16&end_date=2025-10-16
```

### 5. ุชุชุจุน ุงููุจูุนุงุช ูุงูุถุฑูุจุฉ
```bash
# ุญุณุงุจ ุงููุจูุนุงุช
GET /api/account_ledger/35?start_date=2025-10-01

# ุญุณุงุจ ุงูุถุฑูุจุฉ ุงููุฑุชุจุท
GET /api/account_ledger/40?start_date=2025-10-01
```

---

## ๐ ุงูุจูุงูุงุช ุงููุนุฑูุถุฉ

### ุงูุญููู ุงูุฃุณุงุณูุฉ ููู ุญุฑูุฉ
- `id`: ุฑูู ุงูุณุทุฑ ูู ุงูููุฏ
- `journal_entry_id`: ุฑูู ุงูููุฏ ุงููุญุงุณุจู
- `date`: ุงูุชุงุฑูุฎ
- `description`: ุงููุตู
- `account_id`, `account_name`, `account_number`: ุจูุงูุงุช ุงูุญุณุงุจ
- `cash_debit`, `cash_credit`: ุงููุฏูู ูุงูุฏุงุฆู ุงูููุฏู
- `gold_debit`, `gold_credit`: ุงููุฏูู ูุงูุฏุงุฆู ุจุงูุฐูุจ (ูุญููู ููุนูุงุฑ 21)

### ุชูุงุตูู ุงูุฃุนูุฑุฉ (ุนูุฏ `karat_detail=true`)
```json
"karat_details": {
  "18k": {"debit": 0.0, "credit": 0.0},
  "21k": {"debit": 1.2, "credit": 0.0},
  "22k": {"debit": 0.0, "credit": 0.0},
  "24k": {"debit": 0.0, "credit": 0.0}
}
```

### ุงูุฃุฑุตุฏุฉ ุงูุชุฑุงูููุฉ
```json
"running_balance": {
  "cash": 1500.50,
  "gold_normalized": 25.5,
  "by_karat": {
    "18k": 5.2,
    "21k": 18.3,
    "22k": 0.0,
    "24k": 2.0
  }
}
```

---

## โก ูุตุงุฆุญ ุงูุฃุฏุงุก

1. **ุงุณุชุฎุฏู ุงูุชุตููุฉ ุจุงูุชุงุฑูุฎ** ุนูุฏ ุงูุนูู ูุน ุจูุงูุงุช ูุจูุฑุฉ
2. **`karat_detail=false`** ููุญุตูู ุนูู ุงุณุชุฌุงุจุฉ ุฃุณุฑุน ุฅุฐุง ูู ุชุญุชุฌ ุงูุชูุงุตูู
3. **ุงูุชุตููุฉ ุจุญุณุงุจ ูุญุฏุฏ** ุชููู ุญุฌู ุงูุจูุงูุงุช ุงููุนุงูุฌุฉ
4. ุงุณุชุฎุฏู `/api/account_ledger/<id>` ููุญุณุงุจุงุช ุงููุญุฏุฏุฉ ุจุฏูุงู ูู General Ledger

---

## ๐ ุงูุชุญุฏูุซุงุช ุงูุฌุฏูุฏุฉ

### โ ุงููุฒุงูุง ุงููุถุงูุฉ
1. **ุงูุชุตููุฉ ุงููุชูุฏูุฉ**: ุญุณุจ ุงูุญุณุงุจ ูุงููุชุฑุฉ ุงูุฒูููุฉ
2. **ุงูุฃุฑุตุฏุฉ ุงูุชุฑุงูููุฉ**: ุฑุตูุฏ ูุญุฏูุซ ุจุนุฏ ูู ุญุฑูุฉ
3. **ุชูุงุตูู ุงูุฃุนูุฑุฉ**: ุนุฑุถ ูููุตู ููู ุนูุงุฑ (18k, 21k, 22k, 24k)
4. **ุงูุฑุตูุฏ ุงูุงูุชุชุงุญู ูุงูุฎุชุงูู**: ูู ุฏูุชุฑ ุงูุฃุณุชุงุฐ ุงููุญุฏุฏ
5. **ููุฎุต ุดุงูู**: ุฅุญุตุงุฆูุงุช ูุฃุฑุตุฏุฉ ููุงุฆูุฉ
6. **ุฏุนู ูุงูู ูููุธุงู ุงููุฒุฏูุฌ**: ููุฏ + ุฐูุจ

### ๐จ ุชุญุณููุงุช ุงููุงุฌูุฉ
- ุงูุจูุงูุงุช ููุธูุฉ ููุฑุชุจุฉ ุญุณุจ ุงูุชุงุฑูุฎ
- ุงูุฃุฑูุงู ููุฑุจุฉ ูุฏูุฉ ูุนูููุฉ (ููุฏ: 2 ุฎุงูุงุชุ ุฐูุจ: 3 ุฎุงูุงุช)
- ูุนูููุงุช ุงูุญุณุงุจ ูุงููุฉ ูู ูู ุงุณุชุฌุงุจุฉ
- ุงูููุงุชุฑ ุงููุทุจูุฉ ูุงุถุญุฉ ูู ุงูุงุณุชุฌุงุจุฉ

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงูุชูุงุฑูุฎ**: ุงุณุชุฎุฏู ุตูุบุฉ ISO (YYYY-MM-DD)
2. **ุงูุฃุฑุตุฏุฉ ุงูุณุงูุจุฉ**: ุชุนูู ุฏุงุฆู (ูู ุงููุญุงุณุจุฉ)
3. **ุงูุฐูุจ ุงููุญููู**: ููุญููู ููุนูุงุฑ 21 (ุงูุนูุงุฑ ุงูุฑุฆูุณู) ุชููุงุฆูุงู
4. **ุงูุชุตููุฉ**: ูููู ุฏูุฌ ุนุฏุฉ ููุงุชุฑ ูุนุงู

---

ุชู ุงูุชุทููุฑ ุจุชุงุฑูุฎ: 16 ุฃูุชูุจุฑ 2025
