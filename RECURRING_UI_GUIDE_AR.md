# ğŸ“± Ø¯Ù„ÙŠÙ„ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©: Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„Ø¯ÙˆØ±ÙŠØ© (Recurring Journal Entries)
## Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© - Ø´Ø±Ø­ Ù…ÙØµÙ‘Ù„

**Ø§Ù„ØªØ§Ø±ÙŠØ®**: 8 Ù†ÙˆÙÙ…Ø¨Ø± 2025  
**Ø§Ù„Ø­Ø§Ù„Ø©**: Ø¯Ù„ÙŠÙ„ Ø¹Ù…Ù„ÙŠ Ù„Ù„Ù…Ø·ÙˆØ±ÙŠÙ† ÙˆØ§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†

---

## ğŸ¯ Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„Ø¯ÙˆØ±ÙŠØ©ØŸ

Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„Ø¯ÙˆØ±ÙŠØ© Ù‡ÙŠ Ù‚ÙŠÙˆØ¯ Ù…Ø­Ø§Ø³Ø¨ÙŠØ© **ØªØªÙƒØ±Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹** ÙÙŠ Ù…ÙˆØ§Ø¹ÙŠØ¯ Ù…Ø­Ø¯Ø¯Ø© (Ø´Ù‡Ø±ÙŠØ§Ù‹ØŒ Ø³Ù†ÙˆÙŠØ§Ù‹ØŒ Ø§Ù„Ø®).  
Ù…Ø«Ø§Ù„: Ø±ÙˆØ§ØªØ¨ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† ÙƒÙ„ ÙŠÙˆÙ… 25 Ù…Ù† Ø§Ù„Ø´Ù‡Ø±ØŒ Ø¥ÙŠØ¬Ø§Ø± Ø§Ù„Ù…Ø­Ù„ ÙƒÙ„ ÙŠÙˆÙ… 1.

---

## ğŸ“‹ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ÙÙŠ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©

### 1ï¸âƒ£ **Ø´Ø§Ø´Ø© Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨** (Templates List Screen)

**Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ù…Ù‚ØªØ±Ø­**: `frontend/lib/screens/recurring_templates_screen.dart`

#### ğŸ–¼ï¸ Ù…Ø§ ÙŠØ¸Ù‡Ø± ÙÙŠ Ø§Ù„Ø´Ø§Ø´Ø©:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”„ Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„Ø¯ÙˆØ±ÙŠØ©          [+]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  ğŸ“‹ Ø±Ø§ØªØ¨ Ù…ÙˆØ¸ÙÙŠ Ø§Ù„Ù…Ø­Ù„          [Ù†Ø´Ø·]   â”‚
â”‚  ğŸ“… Ø§Ù„ØªØ§Ù„ÙŠ: 2025-12-25                 â”‚
â”‚  âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡: 1 Ù‚ÙŠØ¯                   â”‚
â”‚  [Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¢Ù†] [ØªØ¹Ø¯ÙŠÙ„] [âš™ï¸]            â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  ğŸ“‹ Ø¥ÙŠØ¬Ø§Ø± Ø§Ù„Ù…Ø­Ù„               [Ù†Ø´Ø·]   â”‚
â”‚  ğŸ“… Ø§Ù„ØªØ§Ù„ÙŠ: 2025-12-01                 â”‚
â”‚  âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡: 1 Ù‚ÙŠØ¯                   â”‚
â”‚  [Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¢Ù†] [ØªØ¹Ø¯ÙŠÙ„] [âš™ï¸]            â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  ğŸ“‹ ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ø®Ø¯Ù…Ø§Øª            [Ù†Ø´Ø·]   â”‚
â”‚  ğŸ“… Ø§Ù„ØªØ§Ù„ÙŠ: 2025-11-15                 â”‚
â”‚  â³ Ù„Ù… ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù‚ÙŠÙˆØ¯ Ø¨Ø¹Ø¯             â”‚
â”‚  [Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¢Ù†] [ØªØ¹Ø¯ÙŠÙ„] [âš™ï¸]            â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ğŸ“Š Ø¨ÙŠØ§Ù†Ø§Øª ÙƒÙ„ Ø¨Ø·Ø§Ù‚Ø© (Card):

| Ø§Ù„Ø¹Ù†ØµØ± | Ø§Ù„Ø­Ù‚Ù„ Ù…Ù† API | Ø§Ù„ÙˆØµÙ |
|--------|--------------|-------|
| Ø§Ù„Ø§Ø³Ù… | `name` | Ø§Ø³Ù… Ø§Ù„Ù‚Ø§Ù„Ø¨ |
| Ø§Ù„Ø­Ø§Ù„Ø© | `is_active` | Ù†Ø´Ø·/Ù…ØªÙˆÙ‚Ù |
| Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‚Ø§Ø¯Ù… | `next_run_date` | Ù…ØªÙ‰ Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù‚ÙŠØ¯ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ |
| Ø§Ù„Ù†ÙˆØ¹ | `frequency_text` | Ø´Ù‡Ø±ÙŠ/Ø³Ù†ÙˆÙŠ/Ø£Ø³Ø¨ÙˆØ¹ÙŠ |
| Ø¹Ø¯Ø¯ Ø§Ù„Ù‚ÙŠÙˆØ¯ | `total_created` | ÙƒÙ… Ù‚ÙŠØ¯ ØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡ Ù…Ù† Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø§Ù„Ø¨ |
| Ø¢Ø®Ø± Ø¥Ù†Ø´Ø§Ø¡ | `last_created_date` | ØªØ§Ø±ÙŠØ® Ø¢Ø®Ø± Ù‚ÙŠØ¯ ØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡ |

#### ğŸ”˜ Ø§Ù„Ø£Ø²Ø±Ø§Ø± ÙˆØ§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª:

**1. Ø²Ø± [+] Ø¥Ø¶Ø§ÙØ© Ù‚Ø§Ù„Ø¨ Ø¬Ø¯ÙŠØ¯**
```dart
// Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ·:
Navigator.push(
  context,
  MaterialPageRoute(
    builder: (context) => RecurringTemplateFormScreen(),
  ),
);
```

**2. Ø²Ø± [Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¢Ù†] Create Now**
```dart
// Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ API:
POST /api/recurring_templates/{id}/create_entry

// Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©:
{
  "message": "ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù‚ÙŠØ¯ Ø¨Ù†Ø¬Ø§Ø­",
  "entry": {
    "id": 22,
    "entry_number": "JE-2025-00022",
    "date": "2025-11-01",
    "description": "Ø¥ÙŠØ¬Ø§Ø± Ø´Ù‡Ø±ÙŠ Ù„Ù…Ø­Ù„ Ø§Ù„Ø°Ù‡Ø¨ (Ø¯ÙˆØ±ÙŠ - Ø¥ÙŠØ¬Ø§Ø± Ø§Ù„Ù…Ø­Ù„)"
  }
}

// Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ù†Ø¬Ø§Ø­:
ScaffoldMessenger.of(context).showSnackBar(
  SnackBar(
    content: Text('âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù‚ÙŠØ¯ Ø±Ù‚Ù… ${entry['entry_number']}'),
    action: SnackBarAction(
      label: 'Ø¹Ø±Ø¶',
      onPressed: () {
        // ÙØªØ­ Ø´Ø§Ø´Ø© ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù‚ÙŠØ¯
        Navigator.push(
          context,
          MaterialPageRoute(
            builder: (context) => JournalEntryDetailsScreen(
              entryId: entry['id'],
            ),
          ),
        );
      },
    ),
  ),
);
```

**3. Ø²Ø± [ØªØ¹Ø¯ÙŠÙ„] Edit**
```dart
// ÙØªØ­ Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù…Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ø§Ù„Ø¨:
Navigator.push(
  context,
  MaterialPageRoute(
    builder: (context) => RecurringTemplateFormScreen(
      templateId: template['id'],
      initialData: template,
    ),
  ),
);
```

**4. Ø²Ø± [âš™ï¸] Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†Ø³Ø¯Ù„Ø©**
```dart
PopupMenuButton(
  itemBuilder: (context) => [
    PopupMenuItem(
      child: Text('ØªÙØ¹ÙŠÙ„/ØªØ¹Ø·ÙŠÙ„'),
      onTap: () => toggleActive(template['id']),
    ),
    PopupMenuItem(
      child: Text('Ø­Ø°Ù'),
      onTap: () => deleteTemplate(template['id']),
    ),
    PopupMenuItem(
      child: Text('Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„'),
      onTap: () => showDetails(template['id']),
    ),
  ],
)
```

---

### 2ï¸âƒ£ **Ø´Ø§Ø´Ø© Ø¥Ù†Ø´Ø§Ø¡/ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù‚Ø§Ù„Ø¨** (Template Form Screen)

**Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ù…Ù‚ØªØ±Ø­**: `frontend/lib/screens/recurring_template_form_screen.dart`

#### ğŸ–¼ï¸ Ù…Ø§ ÙŠØ¸Ù‡Ø± ÙÙŠ Ø§Ù„Ø´Ø§Ø´Ø©:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ù„Ø¨ Ø¯ÙˆØ±ÙŠ Ø¬Ø¯ÙŠØ¯                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  Ø§Ù„Ø§Ø³Ù… *                                â”‚
â”‚  [____________________________]         â”‚
â”‚                                         â”‚
â”‚  Ø§Ù„ÙˆØµÙ                                  â”‚
â”‚  [____________________________]         â”‚
â”‚                                         â”‚
â”‚  Ù†ÙˆØ¹ Ø§Ù„ØªÙƒØ±Ø§Ø± *                          â”‚
â”‚  [Ø´Ù‡Ø±ÙŠ â–¼]                               â”‚
â”‚   â”œâ”€ ÙŠÙˆÙ…ÙŠ                               â”‚
â”‚   â”œâ”€ Ø£Ø³Ø¨ÙˆØ¹ÙŠ                             â”‚
â”‚   â”œâ”€ Ø´Ù‡Ø±ÙŠ âœ“                             â”‚
â”‚   â”œâ”€ Ø±Ø¨Ø¹ Ø³Ù†ÙˆÙŠ                           â”‚
â”‚   â””â”€ Ø³Ù†ÙˆÙŠ                               â”‚
â”‚                                         â”‚
â”‚  ÙƒÙ„ ÙƒÙ… Ù…Ø¯Ø©ØŸ *                           â”‚
â”‚  [1] Ø´Ù‡Ø±                                â”‚
â”‚                                         â”‚
â”‚  Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…ÙØ¶Ù„ (Ù„Ù„Ø´Ù‡Ø±ÙŠ)                 â”‚
â”‚  [25] Ù…Ù† ÙƒÙ„ Ø´Ù‡Ø±                         â”‚
â”‚                                         â”‚
â”‚  ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø¡ *                          â”‚
â”‚  [2025-11-01] ğŸ“…                        â”‚
â”‚                                         â”‚
â”‚  ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)              â”‚
â”‚  [________] ğŸ“…                          â”‚
â”‚                                         â”‚
â”‚  â˜‘ ØªÙØ¹ÙŠÙ„ Ø§Ù„Ù‚Ø§Ù„Ø¨                        â”‚
â”‚  â˜‘ Ø¥Ù†Ø´Ø§Ø¡ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ø¹Ù†Ø¯ Ø§Ù„Ù…ÙˆØ¹Ø¯             â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“ Ø³Ø·ÙˆØ± Ø§Ù„Ù‚ÙŠØ¯                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  Ø§Ù„Ø³Ø·Ø± 1:                               â”‚
â”‚  Ø§Ù„Ø­Ø³Ø§Ø¨: [ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ù†Ù‚Ø¯ÙŠØ© â–¼]            â”‚
â”‚  Ù…Ø¯ÙŠÙ† Ù†Ù‚Ø¯: [5000]                       â”‚
â”‚  Ø¯Ø§Ø¦Ù† Ù†Ù‚Ø¯: [0]                          â”‚
â”‚                              [âŒ Ø­Ø°Ù]   â”‚
â”‚                                         â”‚
â”‚  Ø§Ù„Ø³Ø·Ø± 2:                               â”‚
â”‚  Ø§Ù„Ø­Ø³Ø§Ø¨: [Ù…ØµØ±ÙˆÙ Ø§Ù„Ø¥ÙŠØ¬Ø§Ø± â–¼]            â”‚
â”‚  Ù…Ø¯ÙŠÙ† Ù†Ù‚Ø¯: [0]                          â”‚
â”‚  Ø¯Ø§Ø¦Ù† Ù†Ù‚Ø¯: [5000]                       â”‚
â”‚                              [âŒ Ø­Ø°Ù]   â”‚
â”‚                                         â”‚
â”‚  [+ Ø¥Ø¶Ø§ÙØ© Ø³Ø·Ø±]                          â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  ğŸ’° Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:                           â”‚
â”‚  Ù…Ø¯ÙŠÙ†: 5000   Ø¯Ø§Ø¦Ù†: 5000   âœ… Ù…ØªÙˆØ§Ø²Ù†   â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  [Ø­ÙØ¸ Ø§Ù„Ù‚Ø§Ù„Ø¨]            [Ø¥Ù„ØºØ§Ø¡]       â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ğŸ“ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:

| Ø§Ù„Ø­Ù‚Ù„ | Ø§Ø³Ù… API | Ù†ÙˆØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª | Ù…Ø·Ù„ÙˆØ¨ØŸ | Ø§Ù„ÙˆØµÙ |
|-------|---------|--------------|--------|-------|
| Ø§Ù„Ø§Ø³Ù… | `name` | String | âœ… | Ø§Ø³Ù… Ø§Ù„Ù‚Ø§Ù„Ø¨ |
| Ø§Ù„ÙˆØµÙ | `description` | String | âŒ | ÙˆØµÙ Ù…Ø®ØªØµØ± |
| Ù†ÙˆØ¹ Ø§Ù„ØªÙƒØ±Ø§Ø± | `frequency` | Enum | âœ… | daily/weekly/monthly/quarterly/yearly |
| Ø§Ù„ÙØªØ±Ø© | `interval` | Int | âœ… | ÙƒÙ„ ÙƒÙ… Ù…Ø¯Ø© (1 = ÙƒÙ„ Ø´Ù‡Ø±ØŒ 2 = ÙƒÙ„ Ø´Ù‡Ø±ÙŠÙ†) |
| Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…ÙØ¶Ù„ | `preferred_day_of_month` | Int | âŒ | Ù„Ù„ÙŠÙˆÙ… Ø§Ù„Ù…Ø­Ø¯Ø¯ (1-31) |
| ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø¡ | `start_date` | Date | âœ… | Ù…ØªÙ‰ ÙŠØ¨Ø¯Ø£ Ø§Ù„Ù‚Ø§Ù„Ø¨ |
| ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ | `end_date` | Date | âŒ | Ù…ØªÙ‰ ÙŠØªÙˆÙ‚Ù (Ø§Ø®ØªÙŠØ§Ø±ÙŠ) |
| Ù†Ø´Ø· | `is_active` | Bool | âœ… | Ù…ÙØ¹Ù‘Ù„ Ø£Ù… Ù„Ø§ |
| Ø¥Ù†Ø´Ø§Ø¡ ØªÙ„Ù‚Ø§Ø¦ÙŠ | `auto_create` | Bool | âœ… | ÙŠÙÙ†Ø´Ø£ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø£Ù… ÙŠØ¯ÙˆÙŠØ§Ù‹ ÙÙ‚Ø· |
| Ø§Ù„Ø³Ø·ÙˆØ± | `lines` | Array | âœ… | Ù‚Ø§Ø¦Ù…Ø© Ø³Ø·ÙˆØ± Ø§Ù„Ù‚ÙŠØ¯ |

#### ğŸ“Š Ø¨ÙŠØ§Ù†Ø§Øª ÙƒÙ„ Ø³Ø·Ø±:

| Ø§Ù„Ø­Ù‚Ù„ | Ø§Ø³Ù… API | Ø§Ù„ÙˆØµÙ |
|-------|---------|-------|
| Ø§Ù„Ø­Ø³Ø§Ø¨ | `account_id` | Ø±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨ |
| Ù…Ø¯ÙŠÙ† Ù†Ù‚Ø¯ | `cash_debit` | Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø¯ÙŠÙ† Ù†Ù‚Ø¯Ø§Ù‹ |
| Ø¯Ø§Ø¦Ù† Ù†Ù‚Ø¯ | `cash_credit` | Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø¯Ø§Ø¦Ù† Ù†Ù‚Ø¯Ø§Ù‹ |
| Ù…Ø¯ÙŠÙ† Ø°Ù‡Ø¨ 21 | `debit_21k` | Ø§Ù„ÙˆØ²Ù† Ø§Ù„Ù…Ø¯ÙŠÙ† Ø°Ù‡Ø¨ 21 |
| Ø¯Ø§Ø¦Ù† Ø°Ù‡Ø¨ 21 | `credit_21k` | Ø§Ù„ÙˆØ²Ù† Ø§Ù„Ø¯Ø§Ø¦Ù† Ø°Ù‡Ø¨ 21 |

#### ğŸ”„ Ù…Ø«Ø§Ù„ JSON Ù„Ù„Ø¥Ø±Ø³Ø§Ù„:

```json
{
  "name": "Ø±Ø§ØªØ¨ Ù…ÙˆØ¸ÙÙŠ Ø§Ù„Ù…Ø­Ù„",
  "description": "Ø±ÙˆØ§ØªØ¨ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† Ø§Ù„Ø´Ù‡Ø±ÙŠØ©",
  "frequency": "monthly",
  "interval": 1,
  "preferred_day_of_month": 25,
  "start_date": "2025-11-01",
  "end_date": null,
  "is_active": true,
  "auto_create": true,
  "lines": [
    {
      "account_id": 510,
      "cash_debit": 15000.0,
      "cash_credit": 0.0,
      "debit_21k": 0.0,
      "credit_21k": 0.0
    },
    {
      "account_id": 101,
      "cash_debit": 0.0,
      "cash_credit": 15000.0,
      "debit_21k": 0.0,
      "credit_21k": 0.0
    }
  ]
}
```

#### ğŸ”˜ Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ [Ø­ÙØ¸]:

**Ù„Ù„Ø¥Ù†Ø´Ø§Ø¡ (Create):**
```dart
Future<void> saveTemplate() async {
  final response = await http.post(
    Uri.parse('$baseUrl/api/recurring_templates'),
    headers: {'Content-Type': 'application/json'},
    body: jsonEncode(templateData),
  );
  
  if (response.statusCode == 201) {
    // Ù†Ø¬Ø­ Ø§Ù„Ø­ÙØ¸
    ScaffoldMessenger.of(context).showSnackBar(
      SnackBar(content: Text('âœ… ØªÙ… Ø­ÙØ¸ Ø§Ù„Ù‚Ø§Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­')),
    );
    Navigator.pop(context, true); // Ø§Ù„Ø¹ÙˆØ¯Ø© ÙˆØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
  } else {
    // ÙØ´Ù„ Ø§Ù„Ø­ÙØ¸
    final error = jsonDecode(response.body);
    ScaffoldMessenger.of(context).showSnackBar(
      SnackBar(content: Text('âŒ Ø®Ø·Ø£: ${error['error']}')),
    );
  }
}
```

**Ù„Ù„ØªØ¹Ø¯ÙŠÙ„ (Update):**
```dart
Future<void> updateTemplate(int id) async {
  final response = await http.put(
    Uri.parse('$baseUrl/api/recurring_templates/$id'),
    headers: {'Content-Type': 'application/json'},
    body: jsonEncode(templateData),
  );
  
  if (response.statusCode == 200) {
    ScaffoldMessenger.of(context).showSnackBar(
      SnackBar(content: Text('âœ… ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚Ø§Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­')),
    );
    Navigator.pop(context, true);
  }
}
```

---

### 3ï¸âƒ£ **Ø´Ø§Ø´Ø© ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù‚Ø§Ù„Ø¨** (Template Details Screen)

**Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ù…Ù‚ØªØ±Ø­**: `frontend/lib/screens/recurring_template_details_screen.dart`

#### ğŸ–¼ï¸ Ù…Ø§ ÙŠØ¸Ù‡Ø± ÙÙŠ Ø§Ù„Ø´Ø§Ø´Ø©:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Ø±Ø§ØªØ¨ Ù…ÙˆØ¸ÙÙŠ Ø§Ù„Ù…Ø­Ù„              [âœï¸]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  ğŸ“‹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù‚Ø§Ù„Ø¨                     â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                       â”‚
â”‚  Ø§Ù„ÙˆØµÙ: Ø±ÙˆØ§ØªØ¨ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† Ø§Ù„Ø´Ù‡Ø±ÙŠØ©         â”‚
â”‚  Ø§Ù„Ù†ÙˆØ¹: Ø´Ù‡Ø±ÙŠ (ÙƒÙ„ 1 Ø´Ù‡Ø±)                â”‚
â”‚  Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…ÙØ¶Ù„: 25 Ù…Ù† ÙƒÙ„ Ø´Ù‡Ø±            â”‚
â”‚  ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø¡: 2025-11-01               â”‚
â”‚  Ø§Ù„Ø­Ø§Ù„Ø©: âœ… Ù†Ø´Ø·                        â”‚
â”‚  Ø¥Ù†Ø´Ø§Ø¡ ØªÙ„Ù‚Ø§Ø¦ÙŠ: âœ… Ù…ÙØ¹Ù‘Ù„                â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  ğŸ“… Ø§Ù„ØªÙˆØ§Ø±ÙŠØ®                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€                               â”‚
â”‚  Ø§Ù„ØªØ§Ù„ÙŠ: 2025-12-25                    â”‚
â”‚  Ø¢Ø®Ø± Ø¥Ù†Ø´Ø§Ø¡: 2025-11-01                 â”‚
â”‚  Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù‚ÙŠÙˆØ¯: 1                      â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  ğŸ“ Ø³Ø·ÙˆØ± Ø§Ù„Ù‚ÙŠØ¯                          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€                               â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Ø§Ù„Ø­Ø³Ø§Ø¨: Ù…ØµØ±ÙˆÙ Ø§Ù„Ø±ÙˆØ§ØªØ¨ (510)    â”‚  â”‚
â”‚  â”‚ Ù…Ø¯ÙŠÙ† Ù†Ù‚Ø¯: 15,000 Ø±ÙŠØ§Ù„           â”‚  â”‚
â”‚  â”‚ Ø¯Ø§Ø¦Ù† Ù†Ù‚Ø¯: 0 Ø±ÙŠØ§Ù„                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ Ø§Ù„Ø­Ø³Ø§Ø¨: ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ù†Ù‚Ø¯ÙŠØ© (101)    â”‚  â”‚
â”‚  â”‚ Ù…Ø¯ÙŠÙ† Ù†Ù‚Ø¯: 0 Ø±ÙŠØ§Ù„                â”‚  â”‚
â”‚  â”‚ Ø¯Ø§Ø¦Ù† Ù†Ù‚Ø¯: 15,000 Ø±ÙŠØ§Ù„           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                         â”‚
â”‚  ğŸ’° Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: Ù…ØªÙˆØ§Ø²Ù† âœ…               â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  [ğŸ”„ Ø¥Ù†Ø´Ø§Ø¡ Ù‚ÙŠØ¯ Ø§Ù„Ø¢Ù†]                   â”‚
â”‚  [âš™ï¸ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù‚Ø§Ù„Ø¨]                    â”‚
â”‚  [â¸ï¸ ØªØ¹Ø·ÙŠÙ„/ØªÙØ¹ÙŠÙ„]                     â”‚
â”‚  [ğŸ—‘ï¸ Ø­Ø°Ù Ø§Ù„Ù‚Ø§Ù„Ø¨]                      â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆÙ‡Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… (Use Cases)

### âœ… Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ 1: Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ (Ø±ÙˆØ§ØªØ¨)

**Ø§Ù„Ø®Ø·ÙˆØ§Øª:**
1. Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠÙØªØ­ Ø´Ø§Ø´Ø© Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„Ø¯ÙˆØ±ÙŠØ©
2. ÙŠØ¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± [+]
3. ÙŠÙ…Ù„Ø£ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:
   - Ø§Ù„Ø§Ø³Ù…: "Ø±ÙˆØ§ØªØ¨ ÙØ±ÙŠÙ‚ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª"
   - Ø§Ù„Ù†ÙˆØ¹: Ø´Ù‡Ø±ÙŠ
   - Ø§Ù„ÙŠÙˆÙ…: 28
   - ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø¡: 2025-11-28
4. ÙŠØ¶ÙŠÙ Ø³Ø·Ø±ÙŠÙ†:
   - Ù…ØµØ±ÙˆÙ Ø±ÙˆØ§ØªØ¨ (Ù…Ø¯ÙŠÙ† 20000)
   - ØµÙ†Ø¯ÙˆÙ‚ Ø§Ù„Ù†Ù‚Ø¯ÙŠØ© (Ø¯Ø§Ø¦Ù† 20000)
5. ÙŠØ¶ØºØ· [Ø­ÙØ¸]

**API Call:**
```bash
curl -X POST http://localhost:8001/api/recurring_templates \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Ø±ÙˆØ§ØªØ¨ ÙØ±ÙŠÙ‚ Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª",
    "frequency": "monthly",
    "interval": 1,
    "preferred_day_of_month": 28,
    "start_date": "2025-11-28",
    "is_active": true,
    "auto_create": true,
    "lines": [
      {"account_id": 510, "cash_debit": 20000, "cash_credit": 0},
      {"account_id": 101, "cash_debit": 0, "cash_credit": 20000}
    ]
  }'
```

**Ø§Ù„Ù†ØªÙŠØ¬Ø©:**
- ÙŠÙÙ†Ø´Ø£ Ø§Ù„Ù‚Ø§Ù„Ø¨ Ø¨Ø±Ù‚Ù… ID Ø¬Ø¯ÙŠØ¯
- ÙŠØ¸Ù‡Ø± ÙÙŠ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨
- `next_run_date` = 2025-11-28

---

### âœ… Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ 2: Ø¥Ù†Ø´Ø§Ø¡ Ù‚ÙŠØ¯ ÙÙˆØ±ÙŠ (Ø¥Ø¹Ø§Ø¯Ø© Ø·Ù„Ø¨)

**Ø§Ù„Ø®Ø·ÙˆØ§Øª:**
1. Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ Ø´Ø§Ø´Ø© Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
2. ÙŠØ±Ù‰ Ù‚Ø§Ù„Ø¨ "Ø¥ÙŠØ¬Ø§Ø± Ø§Ù„Ù…Ø­Ù„"
3. ÙŠØ¶ØºØ· Ø¹Ù„Ù‰ [Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¢Ù†]
4. ÙŠØ¸Ù‡Ø± Loading
5. ÙŠØ¸Ù‡Ø± Ø¥Ø´Ø¹Ø§Ø±: "âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù‚ÙŠØ¯ JE-2025-00022"
6. Ø²Ø± [Ø¹Ø±Ø¶] Ù„Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù‚ÙŠØ¯

**Ù…Ø§ ÙŠØ­Ø¯Ø« ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ©:**
```bash
POST /api/recurring_templates/2/create_entry
```

**Ø§Ù„Ù†ØªÙŠØ¬Ø©:**
- ÙŠÙÙ†Ø´Ø£ Ù‚ÙŠØ¯ Ø¬Ø¯ÙŠØ¯ ÙÙŠ Ø¬Ø¯ÙˆÙ„ `journal_entry`
- `entry_type` = "Ø¯ÙˆØ±ÙŠ"
- `recurring_template_id` = 2
- `reference_number` = "REC-2-1"
- `next_run_date` ÙŠØªØ­Ø¯Ø« Ø¥Ù„Ù‰ Ø§Ù„Ø´Ù‡Ø± Ø§Ù„ØªØ§Ù„ÙŠ (2025-12-01)
- `total_created` ÙŠØ²ÙŠØ¯ Ù…Ù† 0 Ø¥Ù„Ù‰ 1
- `last_created_date` = ØªØ§Ø±ÙŠØ® Ø§Ù„ÙŠÙˆÙ…

---

### âœ… Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ 3: ØªÙØ¹ÙŠÙ„/ØªØ¹Ø·ÙŠÙ„ Ù‚Ø§Ù„Ø¨

**Ø§Ù„Ø®Ø·ÙˆØ§Øª:**
1. Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ¶ØºØ· Ø¹Ù„Ù‰ [âš™ï¸] â†’ [ØªØ¹Ø·ÙŠÙ„]
2. ÙŠØªØºÙŠØ± Ù„ÙˆÙ† Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø¥Ù„Ù‰ Ø±Ù…Ø§Ø¯ÙŠ
3. Ø±Ù…Ø² Ø§Ù„Ø­Ø§Ù„Ø© ÙŠØªØ­ÙˆÙ„ Ù…Ù† âœ… Ø¥Ù„Ù‰ â¸ï¸

**API Call:**
```bash
POST /api/recurring_templates/3/toggle_active
```

**Ø§Ù„Ù†ØªÙŠØ¬Ø©:**
- `is_active` = false
- Ø§Ù„Ù‚Ø§Ù„Ø¨ Ù„Ù† ÙŠÙÙ†Ø´Ø¦ Ù‚ÙŠÙˆØ¯ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
- ÙŠØ¨Ù‚Ù‰ Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹ Ù„Ù„ØªØ¹Ø¯ÙŠÙ„ Ø£Ùˆ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙØ¹ÙŠÙ„

---

## ğŸ¨ ØªÙˆØµÙŠØ§Øª ØªØµÙ…ÙŠÙ… Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© (UI/UX)

### Ø§Ù„Ø£Ù„ÙˆØ§Ù† Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©:

| Ø§Ù„Ø¹Ù†ØµØ± | Ø§Ù„Ù„ÙˆÙ† | Ø§Ù„ÙƒÙˆØ¯ |
|--------|-------|------|
| Ù‚Ø§Ù„Ø¨ Ù†Ø´Ø· | Ø£Ø®Ø¶Ø± | `#4CAF50` |
| Ù‚Ø§Ù„Ø¨ Ù…Ø¹Ø·Ù„ | Ø±Ù…Ø§Ø¯ÙŠ | `#9E9E9E` |
| Ø²Ø± "Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¢Ù†" | Ø£Ø²Ø±Ù‚ | `#2196F3` |
| Ø²Ø± "Ø­Ø°Ù" | Ø£Ø­Ù…Ø± | `#F44336` |
| Ø®Ù„ÙÙŠØ© Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© | Ø£Ø¨ÙŠØ¶ | `#FFFFFF` |
| Ø§Ù„Ø­Ø¯ | Ø±Ù…Ø§Ø¯ÙŠ ÙØ§ØªØ­ | `#E0E0E0` |

### Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª:

| Ø§Ù„Ø¹Ù†ØµØ± | Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© |
|--------|---------|
| Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨ | `Icons.repeat` |
| Ø¥Ø¶Ø§ÙØ© Ù‚Ø§Ù„Ø¨ | `Icons.add_circle` |
| Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¢Ù† | `Icons.play_arrow` |
| ØªØ¹Ø¯ÙŠÙ„ | `Icons.edit` |
| Ø­Ø°Ù | `Icons.delete` |
| ØªÙØ¹ÙŠÙ„ | `Icons.toggle_on` |
| ØªØ¹Ø·ÙŠÙ„ | `Icons.toggle_off` |
| ØªØ§Ø±ÙŠØ® | `Icons.calendar_today` |
| Ù†Ù‚Ø¯ | `Icons.attach_money` |
| Ø°Ù‡Ø¨ | `Icons.stars` (Ø°Ù‡Ø¨ÙŠ) |

---

## ğŸ§ª Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± (Test Cases)

### âœ… Ø§Ø®ØªØ¨Ø§Ø± 1: Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ù„Ø¨ ØµØ­ÙŠØ­
- **Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„**: Ø¨ÙŠØ§Ù†Ø§Øª ÙƒØ§Ù…Ù„Ø© ÙˆØµØ­ÙŠØ­Ø©
- **Ø§Ù„Ù…ØªÙˆÙ‚Ø¹**: `201 Created`
- **Ø§Ù„ØªØ­Ù‚Ù‚**: Ø§Ù„Ù‚Ø§Ù„Ø¨ ÙŠØ¸Ù‡Ø± ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©

### âŒ Ø§Ø®ØªØ¨Ø§Ø± 2: Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ù„Ø¨ Ø¨Ø¯ÙˆÙ† Ø§Ø³Ù…
- **Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„**: `name` ÙØ§Ø±Øº
- **Ø§Ù„Ù…ØªÙˆÙ‚Ø¹**: `400 Bad Request`
- **Ø§Ù„Ø±Ø³Ø§Ù„Ø©**: "Ø§Ù„Ø§Ø³Ù… Ù…Ø·Ù„ÙˆØ¨"

### âœ… Ø§Ø®ØªØ¨Ø§Ø± 3: Ø¥Ù†Ø´Ø§Ø¡ Ù‚ÙŠØ¯ Ù…Ù† Ù‚Ø§Ù„Ø¨
- **Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„**: `template_id` ØµØ­ÙŠØ­
- **Ø§Ù„Ù…ØªÙˆÙ‚Ø¹**: `200 OK` + Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚ÙŠØ¯
- **Ø§Ù„ØªØ­Ù‚Ù‚**: `total_created` ÙŠØ²ÙŠØ¯ØŒ `next_run_date` ÙŠØªØ­Ø¯Ø«

### âŒ Ø§Ø®ØªØ¨Ø§Ø± 4: Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù† Ù‚Ø§Ù„Ø¨ Ù…Ø¹Ø·Ù„
- **Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„**: `is_active = false`
- **Ø§Ù„Ù…ØªÙˆÙ‚Ø¹**: ÙŠÙ†Ø¬Ø­ (Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙŠØ¯ÙˆÙŠ ÙŠØ¹Ù…Ù„ Ø¯Ø§Ø¦Ù…Ø§Ù‹)
- **Ù…Ù„Ø§Ø­Ø¸Ø©**: Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ ÙÙ‚Ø· ÙŠØªØ£Ø«Ø± Ø¨Ù€ `is_active`

### âœ… Ø§Ø®ØªØ¨Ø§Ø± 5: ØªØ¹Ø¯ÙŠÙ„ Ù‚Ø§Ù„Ø¨
- **Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„**: ØªØºÙŠÙŠØ± `name` Ø£Ùˆ `interval`
- **Ø§Ù„Ù…ØªÙˆÙ‚Ø¹**: `200 OK`
- **Ø§Ù„ØªØ­Ù‚Ù‚**: Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØªØªØ­Ø¯Ø« ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©

---

## ğŸ” Ø§Ù„ØªØ­Ù‚Ù‚ ÙˆØ§Ù„Ø­Ù…Ø§ÙŠØ© (Validation & Security)

### ÙÙŠ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© (Frontend):

```dart
// 1. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ø³Ù… Ø§Ù„Ù‚Ø§Ù„Ø¨
if (nameController.text.trim().isEmpty) {
  return 'Ø§Ù„Ø§Ø³Ù… Ù…Ø·Ù„ÙˆØ¨';
}

// 2. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªÙˆØ§Ø²Ù† Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ
double totalDebit = lines.fold(0, (sum, line) => sum + line.cashDebit);
double totalCredit = lines.fold(0, (sum, line) => sum + line.cashCredit);
if (totalDebit != totalCredit) {
  return 'Ø§Ù„Ù‚ÙŠØ¯ ØºÙŠØ± Ù…ØªÙˆØ§Ø²Ù†: Ù…Ø¯ÙŠÙ† $totalDebit â‰  Ø¯Ø§Ø¦Ù† $totalCredit';
}

// 3. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø³Ø·ÙˆØ±
if (lines.length < 2) {
  return 'ÙŠØ¬Ø¨ Ø¥Ø¶Ø§ÙØ© Ø³Ø·Ø±ÙŠÙ† Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„';
}

// 4. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ø®ØªÙŠØ§Ø± Ø­Ø³Ø§Ø¨Ø§Øª ØµØ§Ù„Ø­Ø©
for (var line in lines) {
  if (line.accountId == null) {
    return 'ÙŠØ¬Ø¨ Ø§Ø®ØªÙŠØ§Ø± Ø­Ø³Ø§Ø¨ Ù„ÙƒÙ„ Ø³Ø·Ø±';
  }
}

// 5. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØ§Ø±ÙŠØ®
if (startDate.isBefore(DateTime.now().subtract(Duration(days: 365)))) {
  return 'ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø¡ Ù‚Ø¯ÙŠÙ… Ø¬Ø¯Ø§Ù‹';
}
```

### ÙÙŠ Ø§Ù„Ø®Ø§Ø¯Ù… (Backend):

```python
# Ø§Ù„Ø­Ù…Ø§ÙŠØ© Ù…ÙˆØ¬ÙˆØ¯Ø© ÙÙŠ backend/recurring_journal_system.py
# ÙŠØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù†:
# 1. ØµØ­Ø© account_id (Ù…ÙˆØ¬ÙˆØ¯ ÙÙŠ Ø¬Ø¯ÙˆÙ„ accounts)
# 2. Ø§Ù„ØªÙˆØ§Ø²Ù† Ø§Ù„Ù…Ø­Ø§Ø³Ø¨ÙŠ (Ù…Ø¯ÙŠÙ† = Ø¯Ø§Ø¦Ù†)
# 3. ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (Ø¥Ø°Ø§ Ù…ÙˆØ¬ÙˆØ¯Ø©)
# 4. Ø¹Ø¯Ù… Ø¥Ù†Ø´Ø§Ø¡ Ù‚ÙŠÙˆØ¯ Ù…ÙƒØ±Ø±Ø© ÙÙŠ Ù†ÙØ³ Ø§Ù„ÙŠÙˆÙ…
```

---

## ğŸ“± ÙƒÙˆØ¯ Flutter Ø¬Ø§Ù‡Ø² Ù„Ù„Ù†Ø³Ø®

### 1. Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Model):

```dart
class RecurringTemplate {
  final int id;
  final String name;
  final String? description;
  final String frequency;
  final String frequencyText;
  final int interval;
  final DateTime startDate;
  final DateTime nextRunDate;
  final DateTime? endDate;
  final bool isActive;
  final bool autoCreate;
  final int totalCreated;
  final DateTime? lastCreatedDate;
  final int? preferredDayOfMonth;
  final List<RecurringLine> lines;

  RecurringTemplate({
    required this.id,
    required this.name,
    this.description,
    required this.frequency,
    required this.frequencyText,
    required this.interval,
    required this.startDate,
    required this.nextRunDate,
    this.endDate,
    required this.isActive,
    required this.autoCreate,
    required this.totalCreated,
    this.lastCreatedDate,
    this.preferredDayOfMonth,
    required this.lines,
  });

  factory RecurringTemplate.fromJson(Map<String, dynamic> json) {
    return RecurringTemplate(
      id: json['id'],
      name: json['name'],
      description: json['description'],
      frequency: json['frequency'],
      frequencyText: json['frequency_text'],
      interval: json['interval'],
      startDate: DateTime.parse(json['start_date']),
      nextRunDate: DateTime.parse(json['next_run_date']),
      endDate: json['end_date'] != null ? DateTime.parse(json['end_date']) : null,
      isActive: json['is_active'],
      autoCreate: json['auto_create'],
      totalCreated: json['total_created'],
      lastCreatedDate: json['last_created_date'] != null 
          ? DateTime.parse(json['last_created_date']) 
          : null,
      preferredDayOfMonth: json['preferred_day_of_month'],
      lines: (json['lines'] as List)
          .map((line) => RecurringLine.fromJson(line))
          .toList(),
    );
  }
}

class RecurringLine {
  final int id;
  final int accountId;
  final String? accountName;
  final double cashDebit;
  final double cashCredit;
  final double debit21k;
  final double credit21k;

  RecurringLine({
    required this.id,
    required this.accountId,
    this.accountName,
    required this.cashDebit,
    required this.cashCredit,
    required this.debit21k,
    required this.credit21k,
  });

  factory RecurringLine.fromJson(Map<String, dynamic> json) {
    return RecurringLine(
      id: json['id'],
      accountId: json['account_id'],
      accountName: json['account_name'],
      cashDebit: json['cash_debit'].toDouble(),
      cashCredit: json['cash_credit'].toDouble(),
      debit21k: json['debit_21k'].toDouble(),
      credit21k: json['credit_21k'].toDouble(),
    );
  }
}
```

### 2. Ø®Ø¯Ù…Ø© API (Service):

```dart
class RecurringTemplateService {
  final String baseUrl = 'http://localhost:8001';

  // Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨
  Future<List<RecurringTemplate>> fetchTemplates() async {
    final response = await http.get(
      Uri.parse('$baseUrl/api/recurring_templates'),
    );
    
    if (response.statusCode == 200) {
      final List<dynamic> data = jsonDecode(response.body);
      return data.map((json) => RecurringTemplate.fromJson(json)).toList();
    } else {
      throw Exception('ÙØ´Ù„ Ø¬Ù„Ø¨ Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨');
    }
  }

  // Ø¥Ù†Ø´Ø§Ø¡ Ù‚ÙŠØ¯ ÙÙˆØ±ÙŠ
  Future<Map<String, dynamic>> createEntryNow(int templateId) async {
    final response = await http.post(
      Uri.parse('$baseUrl/api/recurring_templates/$templateId/create_entry'),
    );
    
    if (response.statusCode == 200) {
      return jsonDecode(response.body);
    } else {
      throw Exception('ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù‚ÙŠØ¯');
    }
  }

  // ØªÙØ¹ÙŠÙ„/ØªØ¹Ø·ÙŠÙ„ Ù‚Ø§Ù„Ø¨
  Future<void> toggleActive(int templateId) async {
    final response = await http.post(
      Uri.parse('$baseUrl/api/recurring_templates/$templateId/toggle_active'),
    );
    
    if (response.statusCode != 200) {
      throw Exception('ÙØ´Ù„ ØªØºÙŠÙŠØ± Ø­Ø§Ù„Ø© Ø§Ù„Ù‚Ø§Ù„Ø¨');
    }
  }

  // Ø­Ø°Ù Ù‚Ø§Ù„Ø¨
  Future<void> deleteTemplate(int templateId) async {
    final response = await http.delete(
      Uri.parse('$baseUrl/api/recurring_templates/$templateId'),
    );
    
    if (response.statusCode != 200) {
      throw Exception('ÙØ´Ù„ Ø­Ø°Ù Ø§Ù„Ù‚Ø§Ù„Ø¨');
    }
  }

  // Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ù„Ø¨ Ø¬Ø¯ÙŠØ¯
  Future<RecurringTemplate> createTemplate(Map<String, dynamic> data) async {
    final response = await http.post(
      Uri.parse('$baseUrl/api/recurring_templates'),
      headers: {'Content-Type': 'application/json'},
      body: jsonEncode(data),
    );
    
    if (response.statusCode == 201) {
      return RecurringTemplate.fromJson(jsonDecode(response.body));
    } else {
      final error = jsonDecode(response.body);
      throw Exception(error['error'] ?? 'ÙØ´Ù„ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù‚Ø§Ù„Ø¨');
    }
  }
}
```

### 3. Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ù‚Ø§Ù„Ø¨ (Widget):

```dart
class RecurringTemplateCard extends StatelessWidget {
  final RecurringTemplate template;
  final VoidCallback onCreateNow;
  final VoidCallback onEdit;
  final VoidCallback onToggle;
  final VoidCallback onDelete;

  const RecurringTemplateCard({
    Key? key,
    required this.template,
    required this.onCreateNow,
    required this.onEdit,
    required this.onToggle,
    required this.onDelete,
  }) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return Card(
      margin: EdgeInsets.symmetric(horizontal: 16, vertical: 8),
      elevation: 2,
      child: Padding(
        padding: EdgeInsets.all(16),
        child: Column(
          crossAxisAlignment: CrossAxisAlignment.start,
          children: [
            // Ø§Ù„Ø¹Ù†ÙˆØ§Ù† ÙˆØ§Ù„Ø­Ø§Ù„Ø©
            Row(
              children: [
                Expanded(
                  child: Text(
                    template.name,
                    style: TextStyle(
                      fontSize: 18,
                      fontWeight: FontWeight.bold,
                      color: template.isActive ? Colors.black : Colors.grey,
                    ),
                  ),
                ),
                Chip(
                  label: Text(
                    template.isActive ? 'Ù†Ø´Ø·' : 'Ù…ØªÙˆÙ‚Ù',
                    style: TextStyle(color: Colors.white, fontSize: 12),
                  ),
                  backgroundColor: template.isActive 
                      ? Colors.green 
                      : Colors.grey,
                  padding: EdgeInsets.symmetric(horizontal: 8),
                ),
              ],
            ),
            SizedBox(height: 8),
            
            // Ø§Ù„ÙˆØµÙ
            if (template.description != null)
              Text(
                template.description!,
                style: TextStyle(color: Colors.grey[600], fontSize: 14),
              ),
            SizedBox(height: 12),
            
            // Ø§Ù„ØªÙØ§ØµÙŠÙ„
            Row(
              children: [
                Icon(Icons.repeat, size: 16, color: Colors.blue),
                SizedBox(width: 4),
                Text(
                  template.frequencyText,
                  style: TextStyle(fontSize: 14),
                ),
                SizedBox(width: 16),
                Icon(Icons.calendar_today, size: 16, color: Colors.orange),
                SizedBox(width: 4),
                Text(
                  'Ø§Ù„ØªØ§Ù„ÙŠ: ${_formatDate(template.nextRunDate)}',
                  style: TextStyle(fontSize: 14),
                ),
              ],
            ),
            SizedBox(height: 8),
            
            // Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
            Row(
              children: [
                Icon(Icons.check_circle, size: 16, color: Colors.green),
                SizedBox(width: 4),
                Text(
                  'ØªÙ… Ø¥Ù†Ø´Ø§Ø¡: ${template.totalCreated} Ù‚ÙŠØ¯',
                  style: TextStyle(fontSize: 14),
                ),
                if (template.lastCreatedDate != null) ...[
                  SizedBox(width: 16),
                  Text(
                    'Ø¢Ø®Ø± Ø¥Ù†Ø´Ø§Ø¡: ${_formatDate(template.lastCreatedDate!)}',
                    style: TextStyle(fontSize: 12, color: Colors.grey),
                  ),
                ],
              ],
            ),
            SizedBox(height: 12),
            
            // Ø§Ù„Ø£Ø²Ø±Ø§Ø±
            Row(
              children: [
                ElevatedButton.icon(
                  onPressed: onCreateNow,
                  icon: Icon(Icons.play_arrow, size: 18),
                  label: Text('Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¢Ù†'),
                  style: ElevatedButton.styleFrom(
                    backgroundColor: Colors.blue,
                    foregroundColor: Colors.white,
                  ),
                ),
                SizedBox(width: 8),
                OutlinedButton.icon(
                  onPressed: onEdit,
                  icon: Icon(Icons.edit, size: 18),
                  label: Text('ØªØ¹Ø¯ÙŠÙ„'),
                ),
                Spacer(),
                PopupMenuButton(
                  icon: Icon(Icons.more_vert),
                  itemBuilder: (context) => [
                    PopupMenuItem(
                      child: Row(
                        children: [
                          Icon(
                            template.isActive 
                                ? Icons.toggle_off 
                                : Icons.toggle_on,
                          ),
                          SizedBox(width: 8),
                          Text(template.isActive ? 'ØªØ¹Ø·ÙŠÙ„' : 'ØªÙØ¹ÙŠÙ„'),
                        ],
                      ),
                      onTap: onToggle,
                    ),
                    PopupMenuItem(
                      child: Row(
                        children: [
                          Icon(Icons.delete, color: Colors.red),
                          SizedBox(width: 8),
                          Text('Ø­Ø°Ù', style: TextStyle(color: Colors.red)),
                        ],
                      ),
                      onTap: onDelete,
                    ),
                  ],
                ),
              ],
            ),
          ],
        ),
      ),
    );
  }

  String _formatDate(DateTime date) {
    return '${date.year}-${date.month.toString().padLeft(2, '0')}-${date.day.toString().padLeft(2, '0')}';
  }
}
```

---

## ğŸ¯ Ø§Ù„Ø®Ù„Ø§ØµØ©

**ÙÙŠ Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©ØŒ Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„Ø¯ÙˆØ±ÙŠØ© ØªÙØ¯Ø§Ø± Ø¹Ø¨Ø± 3 Ø´Ø§Ø´Ø§Øª Ø±Ø¦ÙŠØ³ÙŠØ©:**

1. **Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨** - Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨ Ù…Ø¹ Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª
2. **Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡/Ø§Ù„ØªØ¹Ø¯ÙŠÙ„** - Ø¥Ø¯Ø®Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‚Ø§Ù„Ø¨ ÙˆØ§Ù„Ø³Ø·ÙˆØ±
3. **ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù‚Ø§Ù„Ø¨** - Ø¹Ø±Ø¶ ÙƒØ§Ù…Ù„ Ø§Ù„ØªÙØ§ØµÙŠÙ„ ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª

**Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©:**
- âœ… **Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¢Ù†** â†’ `POST /api/recurring_templates/{id}/create_entry`
- âœï¸ **ØªØ¹Ø¯ÙŠÙ„** â†’ `PUT /api/recurring_templates/{id}`
- â¸ï¸ **ØªÙØ¹ÙŠÙ„/ØªØ¹Ø·ÙŠÙ„** â†’ `POST /api/recurring_templates/{id}/toggle_active`
- ğŸ—‘ï¸ **Ø­Ø°Ù** â†’ `DELETE /api/recurring_templates/{id}`

**Ø§Ù„Ù†ØªÙŠØ¬Ø©:**
- Ù‚ÙŠØ¯ Ø¬Ø¯ÙŠØ¯ ÙŠÙÙ†Ø´Ø£ Ø¨Ù€ `entry_type = "Ø¯ÙˆØ±ÙŠ"`
- ÙŠÙØ­Ø¯Ø« `next_run_date` ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ù„Ù„Ù…ÙˆØ¹Ø¯ Ø§Ù„ØªØ§Ù„ÙŠ
- ØªØ²Ø¯Ø§Ø¯ Ø¥Ø­ØµØ§Ø¦ÙŠØ© `total_created`

---

**Ù„Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªÙ‚Ù†ÙŠØ©ØŒ Ø±Ø§Ø¬Ø¹:**
- `FLUTTER_RECURRING_GUIDE.md` - Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù…Ø·ÙˆØ±ÙŠÙ† Ø§Ù„ÙƒØ§Ù…Ù„
- `RECURRING_JOURNAL_GUIDE.md` - Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø´Ø§Ù…Ù„
- `backend/recurring_journal_routes.py` - ØªÙØ§ØµÙŠÙ„ API

---

_ØªÙ… Ø¨Ø­Ù…Ø¯ Ø§Ù„Ù„Ù‡_ ğŸ‰
