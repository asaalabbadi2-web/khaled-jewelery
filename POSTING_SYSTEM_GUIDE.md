# ุฏููู ูุธุงู ุงูุชุฑุญูู (Posting System)

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅุถุงูุฉ ูุธุงู ุงูุชุฑุญูู ุงููุญุงุณุจู ุงูุดุงูู ูุน ุงูุฃูุงู ูุงูุชุฏููู ุงููุงูู. ูุชุทูุจ ูุฐุง ุงููุธุงู ูุตุงุฏูุฉ JWT ูููุตูู.

## ๐ ุงููุตุงุฏูุฉ ุงููุทููุจุฉ

### ุชุณุฌูู ุงูุฏุฎูู ุงูุฃูู
ุฅุฐุง ูุงุฌูุช ุฎุทุฃ "ูุฌุจ ุชุณุฌูู ุงูุฏุฎูู ุฃููุงู"ุ ูู ุจูุง ููู:

1. **ุณุฌูู ุงูุฎุฑูุฌ** ูู ุงูุชุทุจูู
2. **ุณุฌูู ุงูุฏุฎูู ูุฑุฉ ุฃุฎุฑู** ุจุงุณุชุฎุฏุงู ุจูุงูุงุช ุงูุงุนุชูุงุฏ
3. ุณูุชู ุฅุตุฏุงุฑ JWT token ุฌุฏูุฏ ุชููุงุฆููุง

### ุจูุงูุงุช ุงูุฏุฎูู ุงูุงูุชุฑุงุถูุฉ
```
ุงุณู ุงููุณุชุฎุฏู: admin
ูููุฉ ุงููุฑูุฑ: admin123
```

## ๐ ุงูููุฒุงุช ุงููุชุงุญุฉ

### 1๏ธโฃ ุชุฑุญูู ุงูููุงุชูุฑ
- **ุนุฑุถ ุงูููุงุชูุฑ ุบูุฑ ุงููุฑุญูุฉ**: ูุงุฆูุฉ ุจุฌููุน ุงูููุงุชูุฑ ุงูุชู ูู ุชูุฑุญูู ุจุนุฏ
- **ุนุฑุถ ุงูููุงุชูุฑ ุงููุฑุญูุฉ**: ูุงุฆูุฉ ุจุฌููุน ุงูููุงุชูุฑ ุงูุชู ุชู ุชุฑุญูููุง
- **ุชุฑุญูู ูุงุชูุฑุฉ ูุงุญุฏุฉ**: ุชุฑุญูู ูุงุชูุฑุฉ ูุญุฏุฏุฉ
- **ุชุฑุญูู ูุฌููุนุฉ ููุงุชูุฑ**: ุชุฑุญูู ุนุฏุฉ ููุงุชูุฑ ุฏูุนุฉ ูุงุญุฏุฉ
- **ุฅูุบุงุก ุงูุชุฑุญูู**: ุฅูุบุงุก ุชุฑุญูู ูุงุชูุฑุฉ ููุฑุญููุฉ

### 2๏ธโฃ ุชุฑุญูู ุงููููุฏ ุงูููููุฉ
- **ุนุฑุถ ุงููููุฏ ุบูุฑ ุงููุฑุญูุฉ**: ูุงุฆูุฉ ุจุฌููุน ุงููููุฏ ุงูุชู ูู ุชูุฑุญูู ุจุนุฏ
- **ุนุฑุถ ุงููููุฏ ุงููุฑุญูุฉ**: ูุงุฆูุฉ ุจุฌููุน ุงููููุฏ ุงูุชู ุชู ุชุฑุญูููุง
- **ุชุฑุญูู ููุฏ ูุงุญุฏ**: ุชุฑุญูู ููุฏ ูููู ูุญุฏุฏ
- **ุชุฑุญูู ูุฌููุนุฉ ูููุฏ**: ุชุฑุญูู ุนุฏุฉ ูููุฏ ุฏูุนุฉ ูุงุญุฏุฉ
- **ุฅูุบุงุก ุงูุชุฑุญูู**: ุฅูุบุงุก ุชุฑุญูู ููุฏ ููุฑุญูู

### 3๏ธโฃ ุณุฌู ุงูุชุฏููู (Audit Log)
- **ุชุณุฌูู ุชููุงุฆู** ูุฌููุน ุนูููุงุช ุงูุชุฑุญูู
- **ุชุชุจุน ุงููุณุชุฎุฏู**: ูู ูุงู ุจุงูุนูููุฉุ
- **ุงูุทุงุจุน ุงูุฒููู**: ูุชู ุชูุช ุงูุนูููุฉุ
- **ุชูุงุตูู ุงูุนูููุฉ**: ูุงุฐุง ุชู ูุนูู ุจุงูุถุจุทุ
- **ุนููุงู IP ูุงููุชุตูุญ**: ูุนูููุงุช ุฅุถุงููุฉ ููุฃูุงู

## ๐ ูุธุงู ุงูุตูุงุญูุงุช

### ุตูุงุญูุงุช ุงูููุงุชูุฑ
- `invoice.post`: ุงูุชุฑุญูู
- `invoice.unpost`: ุฅูุบุงุก ุงูุชุฑุญูู
- `invoice.view`: ุงูุนุฑุถ

### ุตูุงุญูุงุช ุงููููุฏ
- `journal.post`: ุงูุชุฑุญูู
- `journal.unpost`: ุฅูุบุงุก ุงูุชุฑุญูู
- `journal.view`: ุงูุนุฑุถ

### ุตูุงุญูุงุช ุงูุชุฏููู
- `audit.view`: ุนุฑุถ ุณุฌูุงุช ุงูุชุฏููู

## ๐ ุงูุฅุญุตุงุฆูุงุช

ูุนุฑุถ ุงููุธุงู ุฅุญุตุงุฆูุงุช ูู ุงูููุช ุงููุนูู:
- ุนุฏุฏ ุงูููุงุชูุฑ ุบูุฑ ุงููุฑุญูุฉ
- ุนุฏุฏ ุงูููุงุชูุฑ ุงููุฑุญูุฉ
- ุนุฏุฏ ุงููููุฏ ุบูุฑ ุงููุฑุญูุฉ
- ุนุฏุฏ ุงููููุฏ ุงููุฑุญูุฉ

## ๐ ุณูุฑ ุงูุนูู

### ุชุฑุญูู ูุงุชูุฑุฉ
1. ุงูุชูู ุฅูู **ุดุงุดุฉ ุฅุฏุงุฑุฉ ุงูุชุฑุญูู**
2. ุงุฎุชุฑ ุชุจููุจ **"ุงูููุงุชูุฑ ุบูุฑ ุงููุฑุญูุฉ"**
3. ุญุฏุฏ ุงูููุงุชูุฑ ุงููุฑุงุฏ ุชุฑุญูููุง
4. ุงุถุบุท **"ุชุฑุญูู ุงููุญุฏุฏ"**
5. ุชุฃููุฏ ุงูุนูููุฉ

### ุฅูุบุงุก ุชุฑุญูู
1. ุงูุชูู ุฅูู ุชุจููุจ **"ุงูููุงุชูุฑ ุงููุฑุญูุฉ"**
2. ุงุฎุชุฑ ุงููุงุชูุฑุฉ ุงููุฑุงุฏ ุฅูุบุงุก ุชุฑุญูููุง
3. ุงุถุบุท ุฒุฑ **"ุฅูุบุงุก ุงูุชุฑุญูู"**
4. ุชุฃููุฏ ุงูุนูููุฉ

### ุนุฑุถ ุณุฌู ุงูุชุฏููู
1. ุงูุชูู ุฅูู ุชุจููุจ **"ุณุฌู ุงูุนูููุงุช"**
2. ุนุฑุถ ุฌููุน ุงูุนูููุงุช ูุน:
   - ุงููุณุชุฎุฏู
   - ููุน ุงูุนูููุฉ
   - ุงูุชุงุฑูุฎ ูุงูููุช
   - ุงูุชูุงุตูู

## โ๏ธ ุชูุจููุงุช ูููุฉ

### ุฑุณุงุฆู ุงูุฎุทุฃ ุงูุดุงุฆุนุฉ

#### "ูุฌุจ ุชุณุฌูู ุงูุฏุฎูู ุฃููุงู"
**ุงูุณุจุจ**: ูู ูุชู ุฅุตุฏุงุฑ JWT token
**ุงูุญู**: ุณุฌูู ุฎุฑูุฌ ุซู ุฏุฎูู ูุฑุฉ ุฃุฎุฑู

#### "ุงูุชูุช ุตูุงุญูุฉ ุงูุฌูุณุฉ"
**ุงูุณุจุจ**: ุงูุชูุช ุตูุงุญูุฉ ุงูู token (24 ุณุงุนุฉ)
**ุงูุญู**: ุณุฌูู ุฏุฎูู ูุฑุฉ ุฃุฎุฑู

#### "ููุณ ูุฏูู ุตูุงุญูุฉ ุงููุตูู"
**ุงูุณุจุจ**: ุงููุณุชุฎุฏู ูุง ูููู ุงูุตูุงุญูุฉ ุงููุทููุจุฉ
**ุงูุญู**: ุงุทูุจ ูู ุงููุฏูุฑ ููุญู ุงูุตูุงุญูุฉ

## ๐๏ธ ูููุทูุฑูู

### Backend Endpoints

#### ุงูููุงุชูุฑ
```bash
# ูุงุฆูุฉ ุงูููุงุชูุฑ ุบูุฑ ุงููุฑุญูุฉ
GET /api/invoices/unposted

# ูุงุฆูุฉ ุงูููุงุชูุฑ ุงููุฑุญูุฉ
GET /api/invoices/posted

# ุชุฑุญูู ูุงุชูุฑุฉ ูุงุญุฏุฉ
POST /api/invoices/post/{invoice_id}

# ุชุฑุญูู ูุฌููุนุฉ
POST /api/invoices/post/batch

# ุฅูุบุงุก ุงูุชุฑุญูู
POST /api/invoices/unpost/{invoice_id}
```

#### ุงููููุฏ ุงูููููุฉ
```bash
# ูุงุฆูุฉ ุงููููุฏ ุบูุฑ ุงููุฑุญูุฉ
GET /api/journal-entries/unposted

# ูุงุฆูุฉ ุงููููุฏ ุงููุฑุญูุฉ
GET /api/journal-entries/posted

# ุชุฑุญูู ููุฏ ูุงุญุฏ
POST /api/journal-entries/post/{entry_id}

# ุชุฑุญูู ูุฌููุนุฉ
POST /api/journal-entries/post/batch

# ุฅูุบุงุก ุงูุชุฑุญูู
POST /api/journal-entries/unpost/{entry_id}
```

#### ุงูุชุฏููู
```bash
# ุณุฌู ุฌููุน ุงูุนูููุงุช
GET /api/audit-logs

# ุนูููุงุช ูุณุชุฎุฏู ูุญุฏุฏ
GET /api/audit-logs/user/{user_id}

# ุนูููุงุช ููุน ูุญุฏุฏ (invoice_post, journal_post, etc.)
GET /api/audit-logs/action/{action}
```

### Frontend Integration

ุฌููุน ุงูุทูุจุงุช ุชุชุทูุจ JWT token ูู ุงูู header:
```dart
headers: {
  'Authorization': 'Bearer $token',
  'Content-Type': 'application/json; charset=UTF-8',
}
```

Token ููุญูุธ ุชููุงุฆููุง ุนูุฏ ุชุณุฌูู ุงูุฏุฎูู ูู `SharedPreferences`.

## ๐ ุฃูุซูุฉ ุนูู ุงุณุชุฎุฏุงู API

### ูุซุงู 1: ุชุฑุญูู ูุงุชูุฑุฉ
```bash
curl -X POST http://localhost:8001/api/invoices/post/1 \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"posted_by": "admin"}'
```

### ูุซุงู 2: ุงูุญุตูู ุนูู ุงูููุงุชูุฑ ุบูุฑ ุงููุฑุญูุฉ
```bash
curl http://localhost:8001/api/invoices/unposted \
  -H "Authorization: Bearer YOUR_TOKEN"
```

### ูุซุงู 3: ุนุฑุถ ุณุฌู ุงูุชุฏููู
```bash
curl http://localhost:8001/api/audit-logs \
  -H "Authorization: Bearer YOUR_TOKEN"
```

## ๐ฏ ุงูุฎูุงุตุฉ

ูุธุงู ุงูุชุฑุญูู ุฌุงูุฒ ููุงุณุชุฎุฏุงู ุงููุงูู ูุน:
- โ ุฃูุงู ูุงูู ุจู JWT
- โ ูุธุงู ุตูุงุญูุงุช ูุชูุฏู
- โ ุชุฏููู ุดุงูู ูุฌููุน ุงูุนูููุงุช
- โ ูุงุฌูุฉ ูุณุชุฎุฏู ุณููุฉ
- โ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ

**ุชุฐูุฑ**: ุฅุฐุง ูุงุฌูุช ุฃู ูุดููุฉุ ุงูุญู ุงูุฃูู ุฏุงุฆููุง ูู ุชุณุฌูู ุงูุฎุฑูุฌ ูุงูุฏุฎูู ูุฑุฉ ุฃุฎุฑู! ๐
