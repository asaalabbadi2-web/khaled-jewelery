# Ø¯Ù„ÙŠÙ„ Ù†Ø¸Ø§Ù… Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„Ø¯ÙˆØ±ÙŠØ©
## Recurring Journal Entries System Guide

---

## ğŸ“‹ Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª
1. [Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©](#Ù†Ø¸Ø±Ø©-Ø¹Ø§Ù…Ø©)
2. [Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† Ø§Ù„Ù‚ÙŠØ¯ Ø§Ù„Ø¹Ø§Ø¯ÙŠ ÙˆØ§Ù„Ø¯ÙˆØ±ÙŠ](#Ø§Ù„ÙØ±Ù‚-Ø¨ÙŠÙ†-Ø§Ù„Ù‚ÙŠØ¯-Ø§Ù„Ø¹Ø§Ø¯ÙŠ-ÙˆØ§Ù„Ø¯ÙˆØ±ÙŠ)
3. [Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù†Ø¸Ø§Ù…](#Ø¥Ø¹Ø¯Ø§Ø¯-Ø§Ù„Ù†Ø¸Ø§Ù…)
4. [Ø£Ù…Ø«Ù„Ø© Ø¹Ù…Ù„ÙŠØ©](#Ø£Ù…Ø«Ù„Ø©-Ø¹Ù…Ù„ÙŠØ©)
5. [Ø§Ø³ØªØ®Ø¯Ø§Ù… API](#Ø§Ø³ØªØ®Ø¯Ø§Ù…-api)
6. [Ø§Ù„Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©](#Ø§Ù„Ø¬Ø¯ÙˆÙ„Ø©-Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©)

---

## ğŸ¯ Ù†Ø¸Ø±Ø© Ø¹Ø§Ù…Ø©

Ù†Ø¸Ø§Ù… Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„Ø¯ÙˆØ±ÙŠØ© ÙŠØ³Ù…Ø­ Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ù‚ÙŠÙˆØ¯ Ù…Ø­Ø§Ø³Ø¨ÙŠØ© Ù…ØªÙƒØ±Ø±Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø­Ø³Ø¨ Ø¬Ø¯ÙˆÙ„ Ø²Ù…Ù†ÙŠ Ù…Ø­Ø¯Ø¯ØŒ Ù…Ø«Ù„:
- **Ø§Ù„Ø±ÙˆØ§ØªØ¨ Ø§Ù„Ø´Ù‡Ø±ÙŠØ©**
- **Ø§Ù„Ø¥ÙŠØ¬Ø§Ø±**
- **ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ø®Ø¯Ù…Ø§Øª**
- **Ø§Ù„Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„Ø¯ÙˆØ±ÙŠ**
- **Ø£Ù‚Ø³Ø§Ø· Ø§Ù„ØªØ£Ù…ÙŠÙ†**

---

## ğŸ“Š Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† Ø§Ù„Ù‚ÙŠØ¯ Ø§Ù„Ø¹Ø§Ø¯ÙŠ ÙˆØ§Ù„Ø¯ÙˆØ±ÙŠ

### Ø§Ù„Ù‚ÙŠØ¯ Ø§Ù„Ø¹Ø§Ø¯ÙŠ (Regular Entry)

| Ø§Ù„Ø®Ø§ØµÙŠØ© | Ø§Ù„ÙˆØµÙ |
|---------|-------|
| **Ø§Ù„ØªÙƒØ±Ø§Ø±** | Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø· |
| **Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡** | ÙŠØ¯ÙˆÙŠ Ø£Ùˆ ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù…Ø¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© |
| **Ø§Ù„ØªÙˆÙ‚ÙŠØª** | Ø¹Ù†Ø¯ Ø­Ø¯ÙˆØ« Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ù…Ø¨Ø§Ø´Ø±Ø© |
| **Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…** | ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ø¨ÙŠØ¹/Ø§Ù„Ø´Ø±Ø§Ø¡ØŒ Ø§Ù„Ø¯ÙØ¹Ø§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠØ© |
| **Ø§Ù„Ø±Ø¨Ø·** | Ù…Ø±ØªØ¨Ø· Ø¨Ù…Ø³ØªÙ†Ø¯ Ù…Ø­Ø¯Ø¯ (ÙØ§ØªÙˆØ±Ø©ØŒ Ø³Ù†Ø¯) |

**Ù…Ø«Ø§Ù„**: Ù‚ÙŠØ¯ ÙØ§ØªÙˆØ±Ø© Ø¨ÙŠØ¹ Ø°Ù‡Ø¨ Ù„Ø¹Ù…ÙŠÙ„ Ø§Ù„ÙŠÙˆÙ…

```json
{
  "entry_type": "Ø¹Ø§Ø¯ÙŠ",
  "date": "2025-11-07",
  "description": "Ø¨ÙŠØ¹ Ø°Ù‡Ø¨ Ù„Ù„Ø¹Ù…ÙŠÙ„ Ù…Ø­Ù…Ø¯ Ø£Ø­Ù…Ø¯",
  "reference_type": "invoice",
  "reference_id": 123
}
```

### Ø§Ù„Ù‚ÙŠØ¯ Ø§Ù„Ø¯ÙˆØ±ÙŠ (Recurring Entry)

| Ø§Ù„Ø®Ø§ØµÙŠØ© | Ø§Ù„ÙˆØµÙ |
|---------|-------|
| **Ø§Ù„ØªÙƒØ±Ø§Ø±** | ÙŠØªÙƒØ±Ø± Ø­Ø³Ø¨ Ø¬Ø¯ÙˆÙ„ (ÙŠÙˆÙ…ÙŠØŒ Ø£Ø³Ø¨ÙˆØ¹ÙŠØŒ Ø´Ù‡Ø±ÙŠØŒ Ø¥Ù„Ø®) |
| **Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡** | ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù…Ù† Ù‚Ø§Ù„Ø¨ Template |
| **Ø§Ù„ØªÙˆÙ‚ÙŠØª** | Ø­Ø³Ø¨ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…Ø­Ø¯Ø¯ |
| **Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…** | Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª ÙˆØ§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªÙƒØ±Ø±Ø© |
| **Ø§Ù„Ø±Ø¨Ø·** | Ù…Ø±ØªØ¨Ø· Ø¨Ù‚Ø§Ù„Ø¨ Ø¯ÙˆØ±ÙŠ |

**Ù…Ø«Ø§Ù„**: Ù‚ÙŠØ¯ Ø±Ø§ØªØ¨ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† Ø§Ù„Ø´Ù‡Ø±ÙŠ

```json
{
  "entry_type": "Ø¯ÙˆØ±ÙŠ",
  "frequency": "monthly",
  "interval": 1,
  "preferred_day_of_month": 25,
  "start_date": "2025-11-01",
  "auto_create": true
}
```

### Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø© ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù…

1. **Ø¹Ø§Ø¯ÙŠ** (Regular): Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„ÙŠÙˆÙ…ÙŠØ© Ø§Ù„Ø¹Ø§Ø¯ÙŠØ©
2. **Ø¯ÙˆØ±ÙŠ** (Recurring): Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„Ù…ØªÙƒØ±Ø±Ø© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©
3. **Ø§ÙØªØªØ§Ø­ÙŠ** (Opening): Ù‚ÙŠØ¯ Ø§ÙØªØªØ§Ø­ Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ©
4. **Ø¥Ù‚ÙØ§Ù„** (Closing): Ù‚ÙŠØ¯ Ø¥Ù‚ÙØ§Ù„ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„ÙØªØ±Ø©

---

## âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù†Ø¸Ø§Ù…

### 1. ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ù€ Migration

```bash
cd backend
source venv/bin/activate
alembic upgrade head
```

### 2. Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ ÙÙŠ `app.py`

ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯ ÙÙŠ Ù…Ù„Ù `backend/app.py`:

```python
# ÙÙŠ Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ù…Ù„Ù
from backend.recurring_journal_system import (
    RecurringJournalTemplate, 
    RecurringJournalLine
)

# Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ù€ routes
import backend.recurring_journal_routes
```

### 3. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØ«Ø¨ÙŠØª

```python
from backend.models import db
from backend.recurring_journal_system import RecurringJournalTemplate

# Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ù„Ø¬Ø¯ÙˆÙ„
templates = RecurringJournalTemplate.query.all()
print(f"Ø¹Ø¯Ø¯ Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨: {len(templates)}")
```

---

## ğŸ’¡ Ø£Ù…Ø«Ù„Ø© Ø¹Ù…Ù„ÙŠØ©

### Ù…Ø«Ø§Ù„ 1: Ø±Ø§ØªØ¨ Ù…ÙˆØ¸ÙÙŠ Ø§Ù„Ù…Ø­Ù„ (Ø´Ù‡Ø±ÙŠ)

```python
from datetime import datetime
from backend.recurring_journal_system import create_recurring_template

# ØªØ­Ø¯ÙŠØ¯ Ø®Ø·ÙˆØ· Ø§Ù„Ù‚ÙŠØ¯
lines = [
    {
        'account_id': 510,  # Ø­Ø³Ø§Ø¨ Ø§Ù„Ø±ÙˆØ§ØªØ¨ ÙˆØ§Ù„Ø£Ø¬ÙˆØ± (Ù…ØµØ±ÙˆÙ)
        'cash_debit': 15000.0,  # 15,000 Ø±ÙŠØ§Ù„
        'cash_credit': 0.0
    },
    {
        'account_id': 101,  # Ø­Ø³Ø§Ø¨ Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚
        'cash_debit': 0.0,
        'cash_credit': 15000.0
    }
]

# Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù‚Ø§Ù„Ø¨
template = create_recurring_template(
    name='Ø±Ø§ØªØ¨ Ù…ÙˆØ¸ÙÙŠ Ø§Ù„Ù…Ø­Ù„',
    description='Ø±ÙˆØ§ØªØ¨ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† Ø§Ù„Ø´Ù‡Ø±ÙŠØ©',
    frequency='monthly',
    start_date=datetime(2025, 11, 1),
    lines_data=lines,
    interval=1,  # ÙƒÙ„ Ø´Ù‡Ø±
    preferred_day=25,  # ÙŠÙˆÙ… 25 Ù…Ù† ÙƒÙ„ Ø´Ù‡Ø±
    created_by='admin'
)

print(f"âœ“ ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù‚Ø§Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­")
print(f"Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‚Ø§Ø¯Ù…: {template.next_run_date}")
```

### Ù…Ø«Ø§Ù„ 2: Ø¥ÙŠØ¬Ø§Ø± Ø§Ù„Ù…Ø­Ù„ (Ø´Ù‡Ø±ÙŠ)

```python
lines = [
    {
        'account_id': 520,  # Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¥ÙŠØ¬Ø§Ø± (Ù…ØµØ±ÙˆÙ)
        'cash_debit': 5000.0,
        'cash_credit': 0.0
    },
    {
        'account_id': 101,  # Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚
        'cash_debit': 0.0,
        'cash_credit': 5000.0
    }
]

template = create_recurring_template(
    name='Ø¥ÙŠØ¬Ø§Ø± Ø§Ù„Ù…Ø­Ù„',
    description='Ø¥ÙŠØ¬Ø§Ø± Ø´Ù‡Ø±ÙŠ Ù„Ù…Ø­Ù„ Ø§Ù„Ø°Ù‡Ø¨',
    frequency='monthly',
    start_date=datetime(2025, 11, 1),
    lines_data=lines,
    interval=1,
    preferred_day=1,  # Ø£ÙˆÙ„ ÙŠÙˆÙ… Ù…Ù† Ø§Ù„Ø´Ù‡Ø±
    created_by='admin'
)
```

### Ù…Ø«Ø§Ù„ 3: Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„Ø£ØµÙˆÙ„ (Ø³Ù†ÙˆÙŠ)

```python
lines = [
    {
        'account_id': 530,  # Ø­Ø³Ø§Ø¨ Ù…ØµØ±ÙˆÙ Ø§Ù„Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ
        'cash_debit': 10000.0,
        'cash_credit': 0.0
    },
    {
        'account_id': 150,  # Ø­Ø³Ø§Ø¨ Ù…Ø¬Ù…Ø¹ Ø§Ù„Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ
        'cash_debit': 0.0,
        'cash_credit': 10000.0
    }
]

template = create_recurring_template(
    name='Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„Ø£ØµÙˆÙ„',
    description='Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø³Ù†ÙˆÙŠ Ù„Ù„Ø£ØµÙˆÙ„ Ø§Ù„Ø«Ø§Ø¨ØªØ©',
    frequency='yearly',
    start_date=datetime(2025, 12, 31),  # Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø³Ù†Ø©
    end_date=datetime(2030, 12, 31),  # Ù…Ø¯Ø© 5 Ø³Ù†ÙˆØ§Øª
    lines_data=lines,
    interval=1,
    created_by='admin'
)
```

### Ù…Ø«Ø§Ù„ 4: ÙØ§ØªÙˆØ±Ø© Ø®Ø¯Ù…Ø§Øª (Ø´Ù‡Ø±ÙŠ)

```python
lines = [
    {
        'account_id': 540,  # Ø­Ø³Ø§Ø¨ Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¡ ÙˆØ§Ù„Ù…Ø§Ø¡
        'cash_debit': 800.0,
        'cash_credit': 0.0
    },
    {
        'account_id': 101,  # Ø§Ù„ØµÙ†Ø¯ÙˆÙ‚
        'cash_debit': 0.0,
        'cash_credit': 800.0
    }
]

template = create_recurring_template(
    name='ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ø®Ø¯Ù…Ø§Øª',
    description='ÙƒÙ‡Ø±Ø¨Ø§Ø¡ØŒ Ù…Ø§Ø¡ØŒ Ø¥Ù†ØªØ±Ù†Øª',
    frequency='monthly',
    start_date=datetime(2025, 11, 1),
    lines_data=lines,
    interval=1,
    preferred_day=15,
    created_by='admin'
)
```

---

## ğŸ”Œ Ø§Ø³ØªØ®Ø¯Ø§Ù… API

### 1. Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨

```bash
GET /api/recurring_templates
```

**Response:**
```json
[
  {
    "id": 1,
    "name": "Ø±Ø§ØªØ¨ Ù…ÙˆØ¸ÙÙŠ Ø§Ù„Ù…Ø­Ù„",
    "description": "Ø±ÙˆØ§ØªØ¨ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† Ø§Ù„Ø´Ù‡Ø±ÙŠØ©",
    "frequency": "monthly",
    "frequency_text": "Ø´Ù‡Ø±ÙŠ",
    "interval": 1,
    "start_date": "2025-11-01T00:00:00",
    "next_run_date": "2025-11-25T00:00:00",
    "preferred_day_of_month": 25,
    "is_active": true,
    "auto_create": true,
    "total_created": 0,
    "lines": [...]
  }
]
```

### 2. Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ù„Ø¨ Ø¬Ø¯ÙŠØ¯

```bash
POST /api/recurring_templates
Content-Type: application/json

{
  "name": "Ø±Ø§ØªØ¨ Ù…ÙˆØ¸ÙÙŠ Ø§Ù„Ù…Ø­Ù„",
  "description": "Ø±ÙˆØ§ØªØ¨ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† Ø§Ù„Ø´Ù‡Ø±ÙŠØ©",
  "frequency": "monthly",
  "interval": 1,
  "start_date": "2025-11-01T00:00:00",
  "preferred_day_of_month": 25,
  "lines": [
    {
      "account_id": 510,
      "cash_debit": 15000.0,
      "cash_credit": 0.0
    },
    {
      "account_id": 101,
      "cash_debit": 0.0,
      "cash_credit": 15000.0
    }
  ]
}
```

### 3. ØªÙØ¹ÙŠÙ„/ØªØ¹Ø·ÙŠÙ„ Ù‚Ø§Ù„Ø¨

```bash
POST /api/recurring_templates/1/toggle_active
```

**Response:**
```json
{
  "message": "ØªÙ… Ø§Ù„ØªÙØ¹ÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­",
  "is_active": true
}
```

### 4. Ø¥Ù†Ø´Ø§Ø¡ Ù‚ÙŠØ¯ ÙŠØ¯ÙˆÙŠØ§Ù‹ Ù…Ù† Ù‚Ø§Ù„Ø¨

```bash
POST /api/recurring_templates/1/create_entry
```

**Response:**
```json
{
  "message": "ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù‚ÙŠØ¯ Ø¨Ù†Ø¬Ø§Ø­",
  "entry": {
    "id": 456,
    "entry_number": "JE-2025-11-001",
    "date": "2025-11-25T00:00:00",
    "description": "Ø±ÙˆØ§ØªØ¨ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† Ø§Ù„Ø´Ù‡Ø±ÙŠØ© (Ø¯ÙˆØ±ÙŠ - Ø±Ø§ØªØ¨ Ù…ÙˆØ¸ÙÙŠ Ø§Ù„Ù…Ø­Ù„)"
  }
}
```

### 5. Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„Ù…Ø³ØªØ­Ù‚Ø©

```bash
POST /api/recurring_templates/process_all
```

**Response:**
```json
{
  "message": "ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ 3 Ù‚ÙŠØ¯ Ø¨Ù†Ø¬Ø§Ø­",
  "entries": [
    {
      "id": 456,
      "entry_number": "JE-2025-11-001",
      "date": "2025-11-25T00:00:00",
      "description": "Ø±ÙˆØ§ØªØ¨ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† Ø§Ù„Ø´Ù‡Ø±ÙŠØ© (Ø¯ÙˆØ±ÙŠ)"
    },
    ...
  ]
}
```

### 6. Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¹Ø¯Ø¯ Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„Ù…Ø³ØªØ­Ù‚Ø©

```bash
GET /api/recurring_templates/due_count
```

**Response:**
```json
{
  "due_count": 3,
  "due_templates": [
    {
      "id": 1,
      "name": "Ø±Ø§ØªØ¨ Ù…ÙˆØ¸ÙÙŠ Ø§Ù„Ù…Ø­Ù„",
      "next_run_date": "2025-11-25T00:00:00"
    },
    ...
  ]
}
```

---

## â° Ø§Ù„Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©

### Ø§Ø³ØªØ®Ø¯Ø§Ù… Cron Job (Linux/Mac)

Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ø³ÙƒØ±ÙŠØ¨Øª Python Ù„Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©:

**Ù…Ù„Ù: `process_recurring.py`**
```python
#!/usr/bin/env python3
from backend.recurring_journal_system import process_recurring_journals
from backend.models import db
from backend import create_app

app = create_app()

with app.app_context():
    created = process_recurring_journals()
    print(f"ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ {len(created)} Ù‚ÙŠØ¯ Ø¯ÙˆØ±ÙŠ")
```

**Ø¥Ø¶Ø§ÙØ© Cron Job:**
```bash
# ØªØ´ØºÙŠÙ„ ÙŠÙˆÙ…ÙŠØ§Ù‹ ÙÙŠ Ø§Ù„Ø³Ø§Ø¹Ø© 1 ØµØ¨Ø§Ø­Ø§Ù‹
crontab -e

# Ø£Ø¶Ù Ø§Ù„Ø³Ø·Ø± Ø§Ù„ØªØ§Ù„ÙŠ:
0 1 * * * cd /path/to/yasargold/backend && source venv/bin/activate && python process_recurring.py
```

### Ø§Ø³ØªØ®Ø¯Ø§Ù… Task Scheduler (Windows)

1. Ø§ÙØªØ­ Task Scheduler
2. Create Basic Task
3. Ø§Ø³Ù… Ø§Ù„Ù…Ù‡Ù…Ø©: "Process Recurring Journals"
4. Trigger: Daily at 01:00
5. Action: Start a Program
   - Program: `python.exe`
   - Arguments: `C:\path\to\yasargold\backend\process_recurring.py`
   - Start in: `C:\path\to\yasargold\backend`

### Ø§Ø³ØªØ®Ø¯Ø§Ù… Flask-APScheduler (Ø§Ù„Ù…ÙˆØµÙ‰ Ø¨Ù‡)

**ØªØ«Ø¨ÙŠØª:**
```bash
pip install flask-apscheduler
```

**ÙÙŠ `app.py`:**
```python
from flask_apscheduler import APScheduler
from backend.recurring_journal_system import process_recurring_journals

scheduler = APScheduler()

def scheduled_recurring_processing():
    """ÙˆØ¸ÙŠÙØ© Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„Ø¯ÙˆØ±ÙŠØ©"""
    with app.app_context():
        try:
            created = process_recurring_journals()
            print(f"[Scheduler] ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ {len(created)} Ù‚ÙŠØ¯ Ø¯ÙˆØ±ÙŠ")
        except Exception as e:
            print(f"[Scheduler] Ø®Ø·Ø£: {str(e)}")

if __name__ == '__main__':
    # ØªÙƒÙˆÙŠÙ† Ø§Ù„Ø¬Ø¯ÙˆÙ„Ø©
    scheduler.init_app(app)
    scheduler.start()
    
    # Ø¥Ø¶Ø§ÙØ© ÙˆØ¸ÙŠÙØ© ÙŠÙˆÙ…ÙŠØ©
    scheduler.add_job(
        id='process_recurring',
        func=scheduled_recurring_processing,
        trigger='cron',
        hour=1,  # Ø§Ù„Ø³Ø§Ø¹Ø© 1 ØµØ¨Ø§Ø­Ø§Ù‹
        minute=0
    )
    
    app.run(debug=True, port=8001)
```

---

## ğŸ“Š Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„ÙØªØ±Ø§Øª Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©

| Ø§Ù„Ù†ÙˆØ¹ | Ø§Ù„Ù‚ÙŠÙ…Ø© | Ø§Ù„ÙˆØµÙ | Ù…Ø«Ø§Ù„ |
|------|--------|-------|------|
| ÙŠÙˆÙ…ÙŠ | `daily` | ÙƒÙ„ ÙŠÙˆÙ…/Ø£ÙŠØ§Ù… | ÙƒÙ„ 3 Ø£ÙŠØ§Ù… |
| Ø£Ø³Ø¨ÙˆØ¹ÙŠ | `weekly` | ÙƒÙ„ Ø£Ø³Ø¨ÙˆØ¹/Ø£Ø³Ø§Ø¨ÙŠØ¹ | ÙƒÙ„ Ø£Ø³Ø¨ÙˆØ¹ÙŠÙ† |
| Ø´Ù‡Ø±ÙŠ | `monthly` | ÙƒÙ„ Ø´Ù‡Ø±/Ø£Ø´Ù‡Ø± | ÙƒÙ„ Ø´Ù‡Ø± Ø¨ØªØ§Ø±ÙŠØ® 25 |
| Ø±Ø¨Ø¹ Ø³Ù†ÙˆÙŠ | `quarterly` | ÙƒÙ„ 3 Ø£Ø´Ù‡Ø± | ÙƒÙ„ Ø±Ø¨Ø¹ Ø³Ù†Ø© |
| Ø³Ù†ÙˆÙŠ | `yearly` | ÙƒÙ„ Ø³Ù†Ø©/Ø³Ù†ÙˆØ§Øª | ÙƒÙ„ Ø³Ù†Ø© |

---

## âœ… Ø§Ù„Ø®Ù„Ø§ØµØ©

### Ù…Ø§ ØªÙ… Ø¥Ø¶Ø§ÙØªÙ‡:
1. âœ“ Ù†Ù…ÙˆØ°Ø¬ `RecurringJournalTemplate` Ù„Ù„Ù‚ÙˆØ§Ù„Ø¨
2. âœ“ Ù†Ù…ÙˆØ°Ø¬ `RecurringJournalLine` Ù„Ø®Ø·ÙˆØ· Ø§Ù„Ù‚ÙˆØ§Ù„Ø¨
3. âœ“ Ø¥Ø¶Ø§ÙØ© Ø­Ù‚Ù„ `recurring_template_id` Ù„Ù„Ù‚ÙŠÙˆØ¯
4. âœ“ Ø¯ÙˆØ§Ù„ Ù…Ø¹Ø§Ù„Ø¬Ø© ÙˆØ¥Ù†Ø´Ø§Ø¡ ØªÙ„Ù‚Ø§Ø¦ÙŠ
5. âœ“ API endpoints ÙƒØ§Ù…Ù„Ø©
6. âœ“ Migration Ù„Ù„Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
7. âœ“ Ø¥ØµÙ„Ø§Ø­ Ø¹Ø±Ø¶ `entry_type` ÙÙŠ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù‚ÙŠÙˆØ¯

### Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©:
1. ØªØ·Ø¨ÙŠÙ‚ Migration: `alembic upgrade head`
2. Ø¥Ø¶Ø§ÙØ© imports ÙÙŠ `app.py`
3. Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ù„Ø¨ Ø¯ÙˆØ±ÙŠ
4. Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¬Ø¯ÙˆÙ„Ø© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©
5. Ø¥Ù†Ø´Ø§Ø¡ ÙˆØ§Ø¬Ù‡Ø© Flutter Ù„Ù„Ù‚ÙŠÙˆØ¯ Ø§Ù„Ø¯ÙˆØ±ÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)

---

## ğŸ†˜ Ø­Ù„ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„

### Ø§Ù„Ù…Ø´ÙƒÙ„Ø©: Ù„Ø§ ÙŠØ¸Ù‡Ø± Ù†ÙˆØ¹ Ø§Ù„Ù‚ÙŠØ¯ Ø¨Ø¹Ø¯ Ø§Ù„Ø­ÙØ¸
**Ø§Ù„Ø­Ù„**: ØªÙ… Ø¥ØµÙ„Ø§Ø­Ù‡Ø§! Ø§Ù„Ø¢Ù† API ÙŠØ±Ø³Ù„ `entry_type` Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.

### Ø§Ù„Ù…Ø´ÙƒÙ„Ø©: Ø§Ù„Ù‚ÙŠÙˆØ¯ Ù„Ø§ ØªÙÙ†Ø´Ø£ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
**Ø§Ù„Ø­Ù„**: ØªØ£ÙƒØ¯ Ù…Ù†:
1. Ø§Ù„Ù‚Ø§Ù„Ø¨ Ù†Ø´Ø· (`is_active = True`)
2. Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù…ÙØ¹Ù‘Ù„ (`auto_create = True`)
3. Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‚Ø§Ø¯Ù… Ù‚Ø¯ Ø­Ø§Ù† (`next_run_date <= now`)
4. Scheduler ÙŠØ¹Ù…Ù„

### Ø§Ù„Ù…Ø´ÙƒÙ„Ø©: Ø®Ø·Ø£ ÙÙŠ Migration
**Ø§Ù„Ø­Ù„**:
```bash
# Ø­Ø°Ù Ø§Ù„Ù€ migration ÙˆØ¥Ø¹Ø§Ø¯Ø© Ø¥Ù†Ø´Ø§Ø¦Ù‡Ø§
alembic downgrade -1
alembic upgrade head
```

---

**ØªÙ… Ø¨Ø­Ù…Ø¯ Ø§Ù„Ù„Ù‡! ğŸ‰**
