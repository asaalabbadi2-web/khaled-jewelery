# โ ูุธุงู ุงููููุฏ ุงูุฏูุฑูุฉ - ุฌุงูุฒ ููุงุณุชุฎุฏุงู!

## ๐ ุชู ุงูุชุทุจูู ุจูุฌุงุญ

ุชู ุฅูุดุงุก ูุชูุนูู ูุธุงู ุงููููุฏ ุงูุฏูุฑูุฉ ุจุงููุงูู ูู ูุธุงู Yasar Gold POS.

---

## โ ูุง ุชู ุฅูุฌุงุฒู

### 1. ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ุฌุฏูู `recurring_journal_template` - ููุงูุจ ุงููููุฏ ุงูุฏูุฑูุฉ
- โ ุฌุฏูู `recurring_journal_line` - ุฎุทูุท ุงููููุฏ
- โ ุญูู `recurring_template_id` ูู ุฌุฏูู `journal_entry`

### 2. Backend (Python/Flask)
- โ ูููุฐุฌ `RecurringJournalTemplate` ูุน ุฌููุน ุงูุฎุตุงุฆุต
- โ ูููุฐุฌ `RecurringJournalLine` ูุฎุทูุท ุงููููุฏ
- โ ุฏุงูุฉ `create_recurring_template()` ูุฅูุดุงุก ุงูููุงูุจ
- โ ุฏุงูุฉ `process_recurring_journals()` ูููุนุงูุฌุฉ ุงูุชููุงุฆูุฉ
- โ ุฏุนู ุงููุชุฑุงุช: ููููุ ุฃุณุจูุนูุ ุดูุฑูุ ุฑุจุน ุณูููุ ุณููู
- โ ุญู ูุดููุฉ `dateutil` ุจู fallback ูุฏูู

### 3. API Endpoints
- โ `GET /api/recurring_templates` - ุฌูุจ ุฌููุน ุงูููุงูุจ
- โ `POST /api/recurring_templates` - ุฅูุดุงุก ูุงูุจ ุฌุฏูุฏ
- โ `GET /api/recurring_templates/:id` - ุฌูุจ ูุงูุจ ูุญุฏุฏ
- โ `PUT /api/recurring_templates/:id` - ุชุญุฏูุซ ูุงูุจ
- โ `DELETE /api/recurring_templates/:id` - ุญุฐู ูุงูุจ
- โ `POST /api/recurring_templates/:id/toggle_active` - ุชูุนูู/ุชุนุทูู
- โ `POST /api/recurring_templates/:id/create_entry` - ุฅูุดุงุก ููุฏ ูุฏููุงู
- โ `POST /api/recurring_templates/process_all` - ูุนุงูุฌุฉ ุฌููุน ุงููููุฏ ุงููุณุชุญูุฉ
- โ `GET /api/recurring_templates/due_count` - ุนุฏุฏ ุงููููุฏ ุงููุณุชุญูุฉ

### 4. ุงููููุฏ ุงููููุดุฃุฉ
- โ ุชุญุชูู ุนูู `entry_type: "ุฏูุฑู"`
- โ ูุฑุชุจุทุฉ ุจุงููุงูุจ ุนุจุฑ `recurring_template_id`
- โ ุฑูู ูุฑุฌุน ุชููุงุฆู `REC-{template_id}-{count}`

---

## ๏ฟฝ๏ฟฝ ุงูุงุฎุชุจุงุฑุงุช

### ุชู ุงุฎุชุจุงุฑ ุจูุฌุงุญ:
1. โ ุฅูุดุงุก ูุงูุจ ุชุฌุฑูุจู (ุฑุงุชุจ ููุธูู ุงููุญู)
2. โ ุฌูุจ ุงูููุงูุจ ุนุจุฑ API
3. โ ุฅูุดุงุก ููุฏ ูุฏููุงู ูู ุงููุงูุจ
4. โ ุงูุชุญูู ูู ุงูููุฏ ุงููููุดุฃ ูู ูุงุฆูุฉ ุงููููุฏ
5. โ ูุนุงูุฌุฉ ุงููููุฏ ุงููุณุชุญูุฉ

### ูุซุงู ุงูููุฏ ุงููููุดุฃ:
```json
{
  "id": 20,
  "entry_number": "JE-2025-00020",
  "date": "2025-11-01T00:00:00",
  "description": "ุฑูุงุชุจ ุงูููุธููู ุงูุดูุฑูุฉ (ุฏูุฑู - ุฑุงุชุจ ููุธูู ุงููุญู)",
  "entry_type": "ุฏูุฑู",
  "reference_type": "recurring_template",
  "reference_id": 1,
  "reference_number": "REC-1-1"
}
```

---

## ๐ ุงูุงุณุชุฎุฏุงู ุงูุณุฑูุน

### ุฅูุดุงุก ูุงูุจ ุฌุฏูุฏ:
```bash
curl -X POST http://localhost:8001/api/recurring_templates \
  -H "Content-Type: application/json" \
  -d '{
    "name": "ุฅูุฌุงุฑ ุงููุญู",
    "description": "ุฅูุฌุงุฑ ุดูุฑู",
    "frequency": "monthly",
    "interval": 1,
    "start_date": "2025-11-01T00:00:00",
    "preferred_day_of_month": 1,
    "lines": [
      {"account_id": 520, "cash_debit": 5000.0, "cash_credit": 0.0},
      {"account_id": 101, "cash_debit": 0.0, "cash_credit": 5000.0}
    ]
  }'
```

### ุฌูุจ ุฌููุน ุงูููุงูุจ:
```bash
curl http://localhost:8001/api/recurring_templates
```

### ุฅูุดุงุก ููุฏ ูุฏููุงู:
```bash
curl -X POST http://localhost:8001/api/recurring_templates/1/create_entry
```

### ูุนุงูุฌุฉ ุงููููุฏ ุงููุณุชุญูุฉ:
```bash
curl -X POST -H "Content-Type: application/json" -d '{}' \
  http://localhost:8001/api/recurring_templates/process_all
```

---

## โฐ ุงูุฌุฏููุฉ ุงูุชููุงุฆูุฉ

### ูููุนุงูุฌุฉ ุงูููููุฉุ ุฃุถู Cron Job:
```bash
crontab -e

# ุฃุถู ุงูุณุทุฑ ุงูุชุงูู (ุชุดุบูู ููููุงู ุงูุณุงุนุฉ 1 ุตุจุงุญุงู):
0 1 * * * cd /Users/salehalabbadi/yasargold/backend && source venv/bin/activate && python process_recurring_journals.py
```

### ุฃู ุงุณุชุฎุฏู ุงูุณูุฑูุจุช ูุฏููุงู:
```bash
cd backend
source venv/bin/activate
python process_recurring_journals.py
```

---

## ๐ ุงููููุงุช ุงููููุดุฃุฉ

| ุงูููู | ุงููุตู |
|------|-------|
| `backend/recurring_journal_system.py` | ุงูููุงุฐุฌ ูุงูููุทู ุงูุฃุณุงุณู |
| `backend/recurring_journal_routes.py` | API endpoints |
| `backend/process_recurring_journals.py` | ุณูุฑูุจุช ุงููุนุงูุฌุฉ ุงูุชููุงุฆูุฉ |
| `RECURRING_JOURNAL_GUIDE.md` | ุฏููู ุดุงูู ููุตู |
| `RECURRING_SETUP_QUICK.md` | ุฏููู ุงูุฅุนุฏุงุฏ ุงูุณุฑูุน |

---

## ๐ฅ ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

1. **ุงูุชูุฑุงุฑ ุงููุฑู**: ููููุ ุฃุณุจูุนูุ ุดูุฑูุ ุฑุจุน ุณูููุ ุณููู
2. **ุงูููู ุงูููุถู**: ุชุญุฏูุฏ ููู ูุญุฏุฏ ูู ุงูุดูุฑ (ูุซูุงู: 25)
3. **ุงูุชุงุฑูุฎ ุงููุงุฏู ุงูุชููุงุฆู**: ููุญุฏููุซ ุชููุงุฆูุงู ุจุนุฏ ูู ุฅูุดุงุก
4. **ุงูุฅุญุตุงุฆูุงุช**: ุชุชุจุน ุนุฏุฏ ุงููููุฏ ุงููููุดุฃุฉ
5. **ุงูุชูุนูู/ุงูุชุนุทูู**: ุชุญูู ูุงูู ูู ุงูููุงูุจ
6. **ุงูุฅูุดุงุก ุงููุฏูู**: ุฅูุดุงุก ููุฏ ูู ุงููุงูุจ ูู ุฃู ููุช
7. **ุฏุนู ุงููุธุงู ุงูุซูุงุฆู**: ููุฏู + ุฐูุจ ุจุฌููุน ุงูุนูุงุฑุงุช

---

## โ ุงูุญุงูุฉ ุงูููุงุฆูุฉ

๐ข **ุงููุธุงู ุฌุงูุฒ ููุนูู ุจุดูู ูุงูู!**

- Backend: โ ูุชุตู ููุนูู
- Database: โ ุงูุฌุฏุงูู ููุดุฃุฉ
- API: โ ุฌููุน endpoints ุชุนูู
- Testing: โ ุชู ุงุฎุชุจุงุฑ ุฌููุน ุงููุธุงุฆู

---

**ุงูุชุงุฑูุฎ**: 7 ููููุจุฑ 2025
**ุงูุญุงูุฉ**: โ ููุชูู
